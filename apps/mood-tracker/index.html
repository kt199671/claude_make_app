<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- App Metadata -->
    <meta name="app-name" content="MindWell - ãƒ ãƒ¼ãƒ‰ãƒˆãƒ©ãƒƒã‚«ãƒ¼">
    <meta name="app-version" content="1.0.0">
    <meta name="app-created-by" content="Claude Sonnet 4">
    <meta name="app-created-date" content="2025-06-20">
    <meta name="app-model-id" content="claude-sonnet-4-20250514">
    <meta name="app-category" content="AIãƒ»åˆ†æ">
    <meta name="app-tags" content="ãƒ¡ãƒ³ã‚¿ãƒ«ãƒ˜ãƒ«ã‚¹,æ°—åˆ†åˆ†æ,AIã‚¤ãƒ³ã‚µã‚¤ãƒˆ,ã‚¦ã‚§ãƒ«ãƒã‚¹,æ„Ÿæƒ…è¿½è·¡,å¿ƒç†åˆ†æ">
    <meta name="app-target-users" content="35000">
    <meta name="app-last-modified" content="2025-06-20">
    <meta name="app-description" content="AIãŒåˆ†æã™ã‚‹ãƒ¡ãƒ³ã‚¿ãƒ«ãƒ˜ãƒ«ã‚¹ç®¡ç†ãƒ»æ°—åˆ†è¿½è·¡ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³">
    <title>MindWell - ãƒ¡ãƒ³ã‚¿ãƒ«ãƒ˜ãƒ«ã‚¹ãƒ»ãƒ ãƒ¼ãƒ‰ãƒˆãƒ©ãƒƒã‚«ãƒ¼</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: white;
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 30px;
        }

        .header h1 {
            color: #2c3e50;
            font-size: 36px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .header p {
            color: #7f8c8d;
            font-size: 18px;
            margin-bottom: 20px;
        }

        .mood-input-section {
            background: white;
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .mood-selector {
            text-align: center;
            margin-bottom: 30px;
        }

        .mood-title {
            font-size: 24px;
            color: #2c3e50;
            margin-bottom: 20px;
        }

        .mood-options {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
            margin-bottom: 30px;
        }

        .mood-option {
            cursor: pointer;
            padding: 20px;
            border-radius: 50%;
            background: #f8f9fa;
            transition: all 0.3s ease;
            border: 3px solid transparent;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-width: 80px;
        }

        .mood-option:hover {
            transform: scale(1.1);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }

        .mood-option.selected {
            border-color: #667eea;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .mood-emoji {
            font-size: 32px;
            margin-bottom: 8px;
        }

        .mood-label {
            font-size: 14px;
            font-weight: 600;
        }

        .mood-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .detail-group {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
        }

        .detail-title {
            font-size: 18px;
            color: #2c3e50;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .energy-selector, .stress-selector {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .scale-option {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #e9ecef;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .scale-option:hover {
            transform: scale(1.2);
        }

        .scale-option.selected {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .note-input {
            width: 100%;
            padding: 15px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-size: 16px;
            outline: none;
            transition: all 0.3s ease;
            resize: vertical;
            min-height: 100px;
        }

        .note-input:focus {
            border-color: #667eea;
            box-shadow: 0 0 15px rgba(102, 126, 234, 0.3);
        }

        .activity-tags {
            margin-bottom: 20px;
        }

        .tag-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 10px;
            margin-bottom: 15px;
        }

        .activity-tag {
            padding: 10px 15px;
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 20px;
            cursor: pointer;
            text-align: center;
            transition: all 0.3s ease;
            font-size: 14px;
        }

        .activity-tag:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .activity-tag.selected {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: #667eea;
        }

        .save-btn {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%);
            color: white;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            font-size: 18px;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .save-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(39, 174, 96, 0.4);
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .tab {
            padding: 15px 30px;
            background: white;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            color: #7f8c8d;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .tab.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            transform: translateY(-2px);
        }

        .tab:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .content {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            min-height: 500px;
        }

        .analytics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            border-left: 5px solid #667eea;
        }

        .stat-value {
            font-size: 32px;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .stat-label {
            color: #7f8c8d;
            font-size: 16px;
        }

        .chart-container {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 25px;
        }

        .chart-title {
            font-size: 20px;
            color: #2c3e50;
            margin-bottom: 20px;
            text-align: center;
        }

        .mood-timeline {
            display: flex;
            justify-content: space-between;
            align-items: end;
            height: 200px;
            margin-bottom: 15px;
            padding: 0 10px;
        }

        .timeline-bar {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 5px 5px 0 0;
            min-width: 30px;
            margin: 0 2px;
            position: relative;
            transition: all 0.3s ease;
        }

        .timeline-bar:hover {
            transform: scale(1.1);
            opacity: 0.8;
        }

        .timeline-labels {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            color: #7f8c8d;
            margin-top: 10px;
        }

        .history-list {
            display: grid;
            gap: 15px;
        }

        .history-item {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
            border-left: 5px solid;
            transition: all 0.3s ease;
        }

        .history-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .history-item.excellent { border-left-color: #27ae60; }
        .history-item.good { border-left-color: #2ecc71; }
        .history-item.okay { border-left-color: #f39c12; }
        .history-item.bad { border-left-color: #e67e22; }
        .history-item.terrible { border-left-color: #e74c3c; }

        .history-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .history-mood {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 18px;
            font-weight: bold;
        }

        .history-date {
            color: #7f8c8d;
            font-size: 14px;
        }

        .history-details {
            color: #666;
            margin-bottom: 10px;
        }

        .history-tags {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .history-tag {
            background: #e9ecef;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 12px;
            color: #666;
        }

        .ai-insights {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 25px;
        }

        .ai-title {
            font-size: 20px;
            color: #2c3e50;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .insight-item {
            background: white;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            border-left: 4px solid #667eea;
        }

        .insight-text {
            color: #2c3e50;
            line-height: 1.6;
        }

        .recommendations {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
        }

        .recommendation-item {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 15px;
            transition: all 0.3s ease;
        }

        .recommendation-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .recommendation-icon {
            font-size: 24px;
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .recommendation-content h4 {
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .recommendation-content p {
            color: #666;
            font-size: 14px;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .mood-details {
                grid-template-columns: 1fr;
            }
            
            .mood-options {
                gap: 10px;
            }
            
            .mood-option {
                min-width: 60px;
                padding: 15px;
            }
            
            .mood-emoji {
                font-size: 24px;
            }
            
            .tabs {
                overflow-x: auto;
                flex-wrap: nowrap;
            }
            
            .analytics-grid {
                grid-template-columns: 1fr;
            }
        }

        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #7f8c8d;
        }

        .empty-state h3 {
            margin-bottom: 10px;
            color: #2c3e50;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ§  MindWell</h1>
            <p>AIãŒåˆ†æã™ã‚‹ãƒ¡ãƒ³ã‚¿ãƒ«ãƒ˜ãƒ«ã‚¹ãƒ»ãƒ ãƒ¼ãƒ‰ãƒˆãƒ©ãƒƒã‚«ãƒ¼</p>
        </div>

        <div class="mood-input-section" id="moodInputSection">
            <div class="mood-selector">
                <h2 class="mood-title">ä»Šã®æ°—åˆ†ã¯ã„ã‹ãŒã§ã™ã‹ï¼Ÿ</h2>
                <div class="mood-options">
                    <div class="mood-option" data-mood="excellent">
                        <div class="mood-emoji">ğŸ˜„</div>
                        <div class="mood-label">æœ€é«˜</div>
                    </div>
                    <div class="mood-option" data-mood="good">
                        <div class="mood-emoji">ğŸ˜Š</div>
                        <div class="mood-label">è‰¯ã„</div>
                    </div>
                    <div class="mood-option" data-mood="okay">
                        <div class="mood-emoji">ğŸ˜</div>
                        <div class="mood-label">æ™®é€š</div>
                    </div>
                    <div class="mood-option" data-mood="bad">
                        <div class="mood-emoji">ğŸ˜”</div>
                        <div class="mood-label">æ‚ªã„</div>
                    </div>
                    <div class="mood-option" data-mood="terrible">
                        <div class="mood-emoji">ğŸ˜­</div>
                        <div class="mood-label">æœ€æ‚ª</div>
                    </div>
                </div>
            </div>

            <div class="mood-details">
                <div class="detail-group">
                    <h3 class="detail-title">ã‚¨ãƒãƒ«ã‚®ãƒ¼ãƒ¬ãƒ™ãƒ« (1-5)</h3>
                    <div class="energy-selector">
                        <div class="scale-option" data-energy="1">1</div>
                        <div class="scale-option" data-energy="2">2</div>
                        <div class="scale-option" data-energy="3">3</div>
                        <div class="scale-option" data-energy="4">4</div>
                        <div class="scale-option" data-energy="5">5</div>
                    </div>
                    <small style="color: #666;">1: ã¨ã¦ã‚‚ç–²ã‚Œã¦ã„ã‚‹ â†’ 5: ã‚¨ãƒãƒ«ã‚®ãƒƒã‚·ãƒ¥</small>
                </div>

                <div class="detail-group">
                    <h3 class="detail-title">ã‚¹ãƒˆãƒ¬ã‚¹ãƒ¬ãƒ™ãƒ« (1-5)</h3>
                    <div class="stress-selector">
                        <div class="scale-option" data-stress="1">1</div>
                        <div class="scale-option" data-stress="2">2</div>
                        <div class="scale-option" data-stress="3">3</div>
                        <div class="scale-option" data-stress="4">4</div>
                        <div class="scale-option" data-stress="5">5</div>
                    </div>
                    <small style="color: #666;">1: ã¨ã¦ã‚‚ãƒªãƒ©ãƒƒã‚¯ã‚¹ â†’ 5: ã¨ã¦ã‚‚ã‚¹ãƒˆãƒ¬ã‚¹ãƒ•ãƒ«</small>
                </div>
            </div>

            <div class="activity-tags">
                <h3 class="detail-title">ä»Šæ—¥ã®æ´»å‹•ï¼ˆè¤‡æ•°é¸æŠå¯ï¼‰</h3>
                <div class="tag-grid">
                    <div class="activity-tag" data-activity="work">ä»•äº‹</div>
                    <div class="activity-tag" data-activity="exercise">é‹å‹•</div>
                    <div class="activity-tag" data-activity="social">å‹äººã¨éã”ã™</div>
                    <div class="activity-tag" data-activity="family">å®¶æ—æ™‚é–“</div>
                    <div class="activity-tag" data-activity="hobby">è¶£å‘³</div>
                    <div class="activity-tag" data-activity="study">å‹‰å¼·</div>
                    <div class="activity-tag" data-activity="meditation">ç‘æƒ³</div>
                    <div class="activity-tag" data-activity="nature">è‡ªç„¶æ•£ç­–</div>
                    <div class="activity-tag" data-activity="reading">èª­æ›¸</div>
                    <div class="activity-tag" data-activity="music">éŸ³æ¥½</div>
                    <div class="activity-tag" data-activity="cooking">æ–™ç†</div>
                    <div class="activity-tag" data-activity="sleep">ååˆ†ãªç¡çœ </div>
                </div>
            </div>

            <div class="detail-group">
                <h3 class="detail-title">ä»Šæ—¥ã®æŒ¯ã‚Šè¿”ã‚Š</h3>
                <textarea class="note-input" id="noteInput" placeholder="ä»Šæ—¥ã®å‡ºæ¥äº‹ã‚„æ„Ÿã˜ãŸã“ã¨ã‚’è‡ªç”±ã«æ›¸ã„ã¦ãã ã•ã„..."></textarea>
            </div>

            <button class="save-btn" onclick="app.saveMoodEntry()">æ°—åˆ†ã‚’è¨˜éŒ²ã™ã‚‹</button>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="showTab('analytics')">ğŸ“Š åˆ†æ</button>
            <button class="tab" onclick="showTab('history')">ğŸ“ å±¥æ­´</button>
            <button class="tab" onclick="showTab('insights')">ğŸ¤– AIã‚¤ãƒ³ã‚µã‚¤ãƒˆ</button>
        </div>

        <div class="content">
            <div id="analytics-tab" class="tab-content">
                <div class="analytics-grid">
                    <div class="stat-card">
                        <div class="stat-value" id="averageMood">3.4</div>
                        <div class="stat-label">å¹³å‡æ°—åˆ†ã‚¹ã‚³ã‚¢</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="moodTrend">â†—ï¸</div>
                        <div class="stat-label">ä»Šé€±ã®ãƒˆãƒ¬ãƒ³ãƒ‰</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="streakDays">7</div>
                        <div class="stat-label">é€£ç¶šè¨˜éŒ²æ—¥æ•°</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="bestActivity">ğŸƒâ€â™‚ï¸</div>
                        <div class="stat-label">æœ€è‰¯æ°—åˆ†ã®æ´»å‹•</div>
                    </div>
                </div>

                <div class="chart-container">
                    <h3 class="chart-title">éå»7æ—¥é–“ã®æ°—åˆ†å¤‰åŒ–</h3>
                    <div class="mood-timeline" id="moodChart">
                        <!-- ãƒãƒ£ãƒ¼ãƒˆãŒã“ã“ã«å‹•çš„ã«ç”Ÿæˆã•ã‚Œã¾ã™ -->
                    </div>
                    <div class="timeline-labels" id="chartLabels">
                        <!-- æ—¥ä»˜ãƒ©ãƒ™ãƒ«ãŒã“ã“ã«ç”Ÿæˆã•ã‚Œã¾ã™ -->
                    </div>
                </div>
            </div>

            <div id="history-tab" class="tab-content" style="display: none;">
                <h2 style="margin-bottom: 20px; color: #2c3e50;">ğŸ“ æ°—åˆ†å±¥æ­´</h2>
                <div class="history-list" id="historyList">
                    <!-- å±¥æ­´ãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™ -->
                </div>
            </div>

            <div id="insights-tab" class="tab-content" style="display: none;">
                <div class="ai-insights">
                    <h2 class="ai-title">ğŸ¤– AIã‚¤ãƒ³ã‚µã‚¤ãƒˆ</h2>
                    <div class="insight-item">
                        <div class="insight-text">ã‚ãªãŸã®æ°—åˆ†ã¯é‹å‹•ã‚’ã—ãŸæ—¥ã«å¹³å‡20%å‘ä¸Šã™ã‚‹å‚¾å‘ã«ã‚ã‚Šã¾ã™ã€‚é€±3å›ã®é‹å‹•ã‚’ç¶™ç¶šã™ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚</div>
                    </div>
                    <div class="insight-item">
                        <div class="insight-text">ã‚¹ãƒˆãƒ¬ã‚¹ãƒ¬ãƒ™ãƒ«ãŒ3ä»¥ä¸Šã®æ—¥ã¯ç¡çœ æ™‚é–“ãŒ6æ™‚é–“æœªæº€ã«ãªã£ã¦ã„ã¾ã™ã€‚æ—©ã‚ã®å°±å¯ã‚’å¿ƒãŒã‘ã¾ã—ã‚‡ã†ã€‚</div>
                    </div>
                    <div class="insight-item">
                        <div class="insight-text">å‹äººã‚„å®¶æ—ã¨éã”ã™æ—¥ã¯æ°—åˆ†ã‚¹ã‚³ã‚¢ãŒ15%é«˜ããªã£ã¦ã„ã¾ã™ã€‚ç¤¾ä¼šçš„ãªäº¤æµã‚’å¤§åˆ‡ã«ã—ã¾ã—ã‚‡ã†ã€‚</div>
                    </div>
                </div>

                <div class="recommendations">
                    <h2 style="margin-bottom: 20px; color: #2c3e50;">ğŸ’¡ ãŠã™ã™ã‚ã‚¢ã‚¯ã‚·ãƒ§ãƒ³</h2>
                    
                    <div class="recommendation-item">
                        <div class="recommendation-icon">ğŸ§˜â€â™€ï¸</div>
                        <div class="recommendation-content">
                            <h4>5åˆ†é–“ã®ç‘æƒ³</h4>
                            <p>æ·±å‘¼å¸ã¨ç‘æƒ³ã§ã‚¹ãƒˆãƒ¬ã‚¹ã‚’è»½æ¸›ã—ã€å¿ƒã‚’è½ã¡ç€ã‹ã›ã¾ã—ã‚‡ã†</p>
                        </div>
                    </div>
                    
                    <div class="recommendation-item">
                        <div class="recommendation-icon">ğŸš¶â€â™‚ï¸</div>
                        <div class="recommendation-content">
                            <h4>æ•£æ­©ã‚’ã™ã‚‹</h4>
                            <p>15åˆ†ç¨‹åº¦ã®è»½ã„ã‚¦ã‚©ãƒ¼ã‚­ãƒ³ã‚°ã§æ°—åˆ†ã‚’ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥</p>
                        </div>
                    </div>
                    
                    <div class="recommendation-item">
                        <div class="recommendation-icon">ğŸ“</div>
                        <div class="recommendation-content">
                            <h4>æ„Ÿè¬æ—¥è¨˜ã‚’æ›¸ã</h4>
                            <p>ä»Šæ—¥æ„Ÿè¬ã—ãŸã“ã¨ã‚’3ã¤æ›¸ãå‡ºã—ã¦ã¿ã¾ã—ã‚‡ã†</p>
                        </div>
                    </div>
                    
                    <div class="recommendation-item">
                        <div class="recommendation-icon">ğŸµ</div>
                        <div class="recommendation-content">
                            <h4>å¥½ããªéŸ³æ¥½ã‚’è´ã</h4>
                            <p>ãŠæ°—ã«å…¥ã‚Šã®éŸ³æ¥½ã§æ°—åˆ†ã‚’ä¸Šã’ã¾ã—ã‚‡ã†</p>
                        </div>
                    </div>
                    
                    <div class="recommendation-item">
                        <div class="recommendation-icon">â˜ï¸</div>
                        <div class="recommendation-content">
                            <h4>èª°ã‹ã«é€£çµ¡ã™ã‚‹</h4>
                            <p>å¤§åˆ‡ãªäººã¨ã®ä¼šè©±ã§å¿ƒã‚’è»½ãã—ã¾ã—ã‚‡ã†</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        class MoodTrackerApp {
            constructor() {
                this.currentMood = null;
                this.currentEnergy = null;
                this.currentStress = null;
                this.selectedActivities = new Set();
                
                this.moodHistory = [
                    {
                        date: new Date(Date.now() - 6 * 24 * 60 * 60 * 1000),
                        mood: 'good',
                        energy: 4,
                        stress: 2,
                        activities: ['exercise', 'work'],
                        note: 'é‹å‹•ãŒã§ãã¦æ°—åˆ†ãŒè‰¯ã‹ã£ãŸ'
                    },
                    {
                        date: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000),
                        mood: 'okay',
                        energy: 3,
                        stress: 3,
                        activities: ['work', 'family'],
                        note: 'æ™®é€šã®ä¸€æ—¥ã ã£ãŸ'
                    },
                    {
                        date: new Date(Date.now() - 4 * 24 * 60 * 60 * 1000),
                        mood: 'excellent',
                        energy: 5,
                        stress: 1,
                        activities: ['social', 'hobby', 'nature'],
                        note: 'å‹äººã¨æ¥½ã—ã„æ™‚é–“ã‚’éã”ã—ãŸ'
                    },
                    {
                        date: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000),
                        mood: 'bad',
                        energy: 2,
                        stress: 4,
                        activities: ['work'],
                        note: 'ä»•äº‹ãŒå¿™ã—ãã¦ã‚¹ãƒˆãƒ¬ã‚¹ãŒå¤šã‹ã£ãŸ'
                    },
                    {
                        date: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000),
                        mood: 'good',
                        energy: 4,
                        stress: 2,
                        activities: ['exercise', 'meditation', 'reading'],
                        note: 'ç‘æƒ³ã¨èª­æ›¸ã§ãƒªãƒ©ãƒƒã‚¯ã‚¹ã§ããŸ'
                    },
                    {
                        date: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000),
                        mood: 'okay',
                        energy: 3,
                        stress: 3,
                        activities: ['family', 'cooking'],
                        note: 'å®¶æ—ã¨æ–™ç†ã‚’ä½œã£ã¦æ¥½ã—ã‹ã£ãŸ'
                    }
                ];
                
                this.init();
            }
            
            init() {
                this.setupEventListeners();
                this.renderAnalytics();
                this.renderHistory();
                this.renderMoodChart();
            }
            
            setupEventListeners() {
                // æ°—åˆ†é¸æŠ
                document.querySelectorAll('.mood-option').forEach(option => {
                    option.addEventListener('click', (e) => {
                        document.querySelectorAll('.mood-option').forEach(o => o.classList.remove('selected'));
                        option.classList.add('selected');
                        this.currentMood = option.dataset.mood;
                    });
                });
                
                // ã‚¨ãƒãƒ«ã‚®ãƒ¼ãƒ¬ãƒ™ãƒ«é¸æŠ
                document.querySelectorAll('[data-energy]').forEach(option => {
                    option.addEventListener('click', (e) => {
                        document.querySelectorAll('[data-energy]').forEach(o => o.classList.remove('selected'));
                        option.classList.add('selected');
                        this.currentEnergy = parseInt(option.dataset.energy);
                    });
                });
                
                // ã‚¹ãƒˆãƒ¬ã‚¹ãƒ¬ãƒ™ãƒ«é¸æŠ
                document.querySelectorAll('[data-stress]').forEach(option => {
                    option.addEventListener('click', (e) => {
                        document.querySelectorAll('[data-stress]').forEach(o => o.classList.remove('selected'));
                        option.classList.add('selected');
                        this.currentStress = parseInt(option.dataset.stress);
                    });
                });
                
                // æ´»å‹•ã‚¿ã‚°é¸æŠ
                document.querySelectorAll('.activity-tag').forEach(tag => {
                    tag.addEventListener('click', (e) => {
                        const activity = tag.dataset.activity;
                        if (this.selectedActivities.has(activity)) {
                            this.selectedActivities.delete(activity);
                            tag.classList.remove('selected');
                        } else {
                            this.selectedActivities.add(activity);
                            tag.classList.add('selected');
                        }
                    });
                });
            }
            
            saveMoodEntry() {
                if (!this.currentMood) {
                    alert('æ°—åˆ†ã‚’é¸æŠã—ã¦ãã ã•ã„');
                    return;
                }
                
                if (!this.currentEnergy) {
                    alert('ã‚¨ãƒãƒ«ã‚®ãƒ¼ãƒ¬ãƒ™ãƒ«ã‚’é¸æŠã—ã¦ãã ã•ã„');
                    return;
                }
                
                if (!this.currentStress) {
                    alert('ã‚¹ãƒˆãƒ¬ã‚¹ãƒ¬ãƒ™ãƒ«ã‚’é¸æŠã—ã¦ãã ã•ã„');
                    return;
                }
                
                const note = document.getElementById('noteInput').value;
                
                const entry = {
                    date: new Date(),
                    mood: this.currentMood,
                    energy: this.currentEnergy,
                    stress: this.currentStress,
                    activities: Array.from(this.selectedActivities),
                    note: note
                };
                
                this.moodHistory.unshift(entry);
                
                // ãƒªã‚»ãƒƒãƒˆ
                this.resetForm();
                
                // è¡¨ç¤ºæ›´æ–°
                this.renderAnalytics();
                this.renderHistory();
                this.renderMoodChart();
                
                alert('æ°—åˆ†ãŒè¨˜éŒ²ã•ã‚Œã¾ã—ãŸï¼');
            }
            
            resetForm() {
                this.currentMood = null;
                this.currentEnergy = null;
                this.currentStress = null;
                this.selectedActivities.clear();
                
                document.querySelectorAll('.selected').forEach(el => el.classList.remove('selected'));
                document.getElementById('noteInput').value = '';
            }
            
            renderAnalytics() {
                // å¹³å‡æ°—åˆ†ã‚¹ã‚³ã‚¢è¨ˆç®—
                const moodScores = { terrible: 1, bad: 2, okay: 3, good: 4, excellent: 5 };
                const avgMood = this.moodHistory.reduce((sum, entry) => sum + moodScores[entry.mood], 0) / this.moodHistory.length;
                document.getElementById('averageMood').textContent = avgMood.toFixed(1);
                
                // ãƒˆãƒ¬ãƒ³ãƒ‰è¨ˆç®—
                const recentMoods = this.moodHistory.slice(0, 3).map(entry => moodScores[entry.mood]);
                const olderMoods = this.moodHistory.slice(3, 6).map(entry => moodScores[entry.mood]);
                const recentAvg = recentMoods.reduce((sum, score) => sum + score, 0) / recentMoods.length;
                const olderAvg = olderMoods.reduce((sum, score) => sum + score, 0) / olderMoods.length;
                
                let trendIcon = 'â†’';
                if (recentAvg > olderAvg + 0.2) trendIcon = 'â†—ï¸';
                else if (recentAvg < olderAvg - 0.2) trendIcon = 'â†˜ï¸';
                
                document.getElementById('moodTrend').textContent = trendIcon;
                
                // é€£ç¶šè¨˜éŒ²æ—¥æ•°
                document.getElementById('streakDays').textContent = this.moodHistory.length;
                
                // æœ€è‰¯æ°—åˆ†ã®æ´»å‹•
                const activityMoodMap = {};
                this.moodHistory.forEach(entry => {
                    const score = moodScores[entry.mood];
                    entry.activities.forEach(activity => {
                        if (!activityMoodMap[activity]) activityMoodMap[activity] = [];
                        activityMoodMap[activity].push(score);
                    });
                });
                
                let bestActivity = 'ğŸƒâ€â™‚ï¸';
                let bestScore = 0;
                
                Object.keys(activityMoodMap).forEach(activity => {
                    const avg = activityMoodMap[activity].reduce((sum, score) => sum + score, 0) / activityMoodMap[activity].length;
                    if (avg > bestScore) {
                        bestScore = avg;
                        const activityIcons = {
                            work: 'ğŸ’¼', exercise: 'ğŸƒâ€â™‚ï¸', social: 'ğŸ‘¥', family: 'ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦',
                            hobby: 'ğŸ¨', study: 'ğŸ“š', meditation: 'ğŸ§˜â€â™€ï¸', nature: 'ğŸŒ²',
                            reading: 'ğŸ“–', music: 'ğŸµ', cooking: 'ğŸ³', sleep: 'ğŸ˜´'
                        };
                        bestActivity = activityIcons[activity] || 'ğŸƒâ€â™‚ï¸';
                    }
                });
                
                document.getElementById('bestActivity').textContent = bestActivity;
            }
            
            renderMoodChart() {
                const chart = document.getElementById('moodChart');
                const labels = document.getElementById('chartLabels');
                
                const moodScores = { terrible: 1, bad: 2, okay: 3, good: 4, excellent: 5 };
                const last7Days = this.moodHistory.slice(0, 7).reverse();
                
                chart.innerHTML = '';
                labels.innerHTML = '';
                
                last7Days.forEach(entry => {
                    const bar = document.createElement('div');
                    bar.className = 'timeline-bar';
                    const height = (moodScores[entry.mood] / 5) * 180;
                    bar.style.height = `${height}px`;
                    chart.appendChild(bar);
                    
                    const label = document.createElement('span');
                    label.textContent = entry.date.toLocaleDateString('ja-JP', { month: 'numeric', day: 'numeric' });
                    labels.appendChild(label);
                });
            }
            
            renderHistory() {
                const container = document.getElementById('historyList');
                
                if (this.moodHistory.length === 0) {
                    container.innerHTML = `
                        <div class="empty-state">
                            <h3>ã¾ã è¨˜éŒ²ãŒã‚ã‚Šã¾ã›ã‚“</h3>
                            <p>æ°—åˆ†ã‚’è¨˜éŒ²ã—ã¦ã€ãƒ¡ãƒ³ã‚¿ãƒ«ãƒ˜ãƒ«ã‚¹ã‚’ç®¡ç†ã—ã¾ã—ã‚‡ã†</p>
                        </div>
                    `;
                    return;
                }
                
                const moodLabels = {
                    excellent: 'ğŸ˜„ æœ€é«˜',
                    good: 'ğŸ˜Š è‰¯ã„',
                    okay: 'ğŸ˜ æ™®é€š',
                    bad: 'ğŸ˜” æ‚ªã„',
                    terrible: 'ğŸ˜­ æœ€æ‚ª'
                };
                
                const activityLabels = {
                    work: 'ğŸ’¼ ä»•äº‹', exercise: 'ğŸƒâ€â™‚ï¸ é‹å‹•', social: 'ğŸ‘¥ å‹äºº', family: 'ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ å®¶æ—',
                    hobby: 'ğŸ¨ è¶£å‘³', study: 'ğŸ“š å‹‰å¼·', meditation: 'ğŸ§˜â€â™€ï¸ ç‘æƒ³', nature: 'ğŸŒ² è‡ªç„¶',
                    reading: 'ğŸ“– èª­æ›¸', music: 'ğŸµ éŸ³æ¥½', cooking: 'ğŸ³ æ–™ç†', sleep: 'ğŸ˜´ ç¡çœ '
                };
                
                container.innerHTML = this.moodHistory.map(entry => `
                    <div class="history-item ${entry.mood}">
                        <div class="history-header">
                            <div class="history-mood">${moodLabels[entry.mood]}</div>
                            <div class="history-date">${entry.date.toLocaleDateString('ja-JP', { 
                                year: 'numeric', month: 'long', day: 'numeric', weekday: 'long'
                            })}</div>
                        </div>
                        <div class="history-details">
                            ã‚¨ãƒãƒ«ã‚®ãƒ¼: ${entry.energy}/5 | ã‚¹ãƒˆãƒ¬ã‚¹: ${entry.stress}/5
                        </div>
                        ${entry.note ? `<div class="history-details">${entry.note}</div>` : ''}
                        <div class="history-tags">
                            ${entry.activities.map(activity => 
                                `<span class="history-tag">${activityLabels[activity] || activity}</span>`
                            ).join('')}
                        </div>
                    </div>
                `).join('');
            }
        }
        
        // ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆæ©Ÿèƒ½
        function showTab(tabName) {
            // ã™ã¹ã¦ã®ã‚¿ãƒ–ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’éè¡¨ç¤º
            document.querySelectorAll('.tab-content').forEach(content => {
                content.style.display = 'none';
            });
            
            // ã™ã¹ã¦ã®ã‚¿ãƒ–ãƒœã‚¿ãƒ³ã‹ã‚‰activeã‚¯ãƒ©ã‚¹ã‚’å‰Šé™¤
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // é¸æŠã•ã‚ŒãŸã‚¿ãƒ–ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’è¡¨ç¤º
            document.getElementById(`${tabName}-tab`).style.display = 'block';
            
            // é¸æŠã•ã‚ŒãŸã‚¿ãƒ–ãƒœã‚¿ãƒ³ã«activeã‚¯ãƒ©ã‚¹ã‚’è¿½åŠ 
            event.target.classList.add('active');
        }
        
        // ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³åˆæœŸåŒ–
        let app;
        document.addEventListener('DOMContentLoaded', () => {
            app = new MoodTrackerApp();
        });
    </script>
</body>
</html> 