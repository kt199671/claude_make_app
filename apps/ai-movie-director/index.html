<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- App Metadata -->
    <meta name="app-name" content="AIæ˜ ç”»ç›£ç£">
    <meta name="app-version" content="1.0.0">
    <meta name="app-created-by" content="Claude Sonnet 4">
    <meta name="app-created-date" content="2025-06-20">
    <meta name="app-model-id" content="claude-sonnet-4-20250514">
    <meta name="app-category" content="AIãƒ»åˆ†æ">
    <meta name="app-tags" content="æ˜ ç”»åˆ¶ä½œ,è„šæœ¬ç”Ÿæˆ,ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–,ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ†ã‚¤ãƒ¡ãƒ³ãƒˆ,AI,ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒ†ãƒªãƒ³ã‚°">
    <meta name="app-target-users" content="15000">
    <meta name="app-last-modified" content="2025-06-20">
    <meta name="app-description" content="AIãŒæ˜ ç”»ã®è„šæœ¬ã‚’è‡ªå‹•ç”Ÿæˆã™ã‚‹é©æ–°çš„ãªæ˜ ç”»è£½ä½œæ”¯æ´ãƒ„ãƒ¼ãƒ«">
    <title>ğŸ¬ AIæ˜ ç”»ç›£ç£ - Claudeä½œå“é›†</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 25%, #16213e 50%, #0f3460 75%, #1e3c72 100%);
            min-height: 100vh;
            color: white;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            padding: 2rem 0;
            margin-bottom: 2rem;
        }

        .header h1 {
            font-size: 3rem;
            background: linear-gradient(135deg, #ff0080, #7928ca, #0070f3, #00dfd8);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 0.5rem;
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from { text-shadow: 0 0 20px rgba(255, 0, 128, 0.5); }
            to { text-shadow: 0 0 30px rgba(255, 0, 128, 0.8), 0 0 40px rgba(121, 40, 202, 0.3); }
        }

        .subtitle {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 1rem;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .creation-panel, .preview-panel {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 2rem;
            border: 1px solid rgba(255, 255, 255, 0.15);
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
        }

        .section-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            color: #fff;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            font-weight: 500;
            margin-bottom: 0.5rem;
            color: rgba(255, 255, 255, 0.9);
        }

        .form-input, .form-select, .form-textarea {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 1rem;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .form-input::placeholder, .form-textarea::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        .form-input:focus, .form-select:focus, .form-textarea:focus {
            outline: none;
            border-color: #ff0080;
            box-shadow: 0 0 20px rgba(255, 0, 128, 0.3);
            background: rgba(255, 255, 255, 0.15);
        }

        .form-textarea {
            min-height: 100px;
            resize: vertical;
        }

        .checkbox-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 0.5rem;
            margin-top: 0.5rem;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 8px 12px;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.05);
            transition: background 0.3s ease;
        }

        .checkbox-item:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .checkbox-item input[type="checkbox"] {
            accent-color: #ff0080;
        }

        .generate-btn {
            width: 100%;
            padding: 16px 24px;
            background: linear-gradient(135deg, #ff0080 0%, #7928ca 50%, #0070f3 100%);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(255, 0, 128, 0.4);
            margin-top: 1rem;
        }

        .generate-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 30px rgba(255, 0, 128, 0.6);
        }

        .generate-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .movie-preview {
            min-height: 400px;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .movie-screen {
            width: 100%;
            height: 300px;
            background: linear-gradient(45deg, #1a1a2e, #16213e);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
            border: 2px solid rgba(255, 255, 255, 0.1);
        }

        .movie-screen.playing::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: scan 2s linear infinite;
        }

        @keyframes scan {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .screen-content {
            text-align: center;
            color: rgba(255, 255, 255, 0.6);
            font-size: 1.1rem;
        }

        .movie-title {
            font-size: 1.8rem;
            font-weight: 700;
            background: linear-gradient(135deg, #ff0080, #7928ca);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 1rem;
            text-align: center;
        }

        .movie-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .info-item {
            text-align: center;
            padding: 0.5rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
        }

        .info-label {
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.6);
            margin-bottom: 0.25rem;
        }

        .info-value {
            font-weight: 600;
            color: white;
        }

        .script-content {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 12px;
            padding: 1.5rem;
            max-height: 400px;
            overflow-y: auto;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .script-scene {
            margin-bottom: 2rem;
            border-left: 3px solid #ff0080;
            padding-left: 1rem;
        }

        .scene-header {
            font-weight: 600;
            color: #00dfd8;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
            text-transform: uppercase;
        }

        .scene-action {
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 1rem;
            font-style: italic;
            line-height: 1.6;
        }

        .dialogue {
            margin-bottom: 1rem;
        }

        .character-name {
            font-weight: 600;
            color: #7928ca;
            margin-bottom: 0.25rem;
            text-transform: uppercase;
            font-size: 0.9rem;
        }

        .character-line {
            color: white;
            padding-left: 1rem;
            line-height: 1.6;
        }

        .loading {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            padding: 2rem;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid rgba(255, 255, 255, 0.2);
            border-top: 4px solid #ff0080;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .controls {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 1rem;
        }

        .control-btn {
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .control-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: #ff0080;
        }

        .back-btn {
            position: fixed;
            top: 20px;
            left: 20px;
            padding: 12px 24px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            z-index: 1000;
        }

        .back-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: #ff0080;
            transform: translateY(-2px);
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .container {
                padding: 10px;
            }
            
            .creation-panel, .preview-panel {
                padding: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <a href="../../index.html" class="back-btn">â† ãƒ¡ã‚¤ãƒ³</a>

    <div class="container">
        <div class="header">
            <h1>ğŸ¬ AIæ˜ ç”»ç›£ç£</h1>
            <p class="subtitle">AIãŒã‚ãªãŸã®ã‚¢ã‚¤ãƒ‡ã‚¢ã§çŸ­ç·¨æ˜ ç”»ã‚’ä½œã‚Šã¾ã™</p>
        </div>

        <div class="main-content">
            <!-- æ˜ ç”»ä½œæˆãƒ‘ãƒãƒ« -->
            <div class="creation-panel">
                <h2 class="section-title">ğŸ­ æ˜ ç”»ã‚’ä½œæˆ</h2>
                
                <div class="form-group">
                    <label class="form-label">ğŸ¬ æ˜ ç”»ã®ã‚¸ãƒ£ãƒ³ãƒ«</label>
                    <select id="genre" class="form-select">
                        <option value="">ã‚¸ãƒ£ãƒ³ãƒ«ã‚’é¸æŠ</option>
                        <option value="action">ã‚¢ã‚¯ã‚·ãƒ§ãƒ³</option>
                        <option value="comedy">ã‚³ãƒ¡ãƒ‡ã‚£</option>
                        <option value="drama">ãƒ‰ãƒ©ãƒ</option>
                        <option value="horror">ãƒ›ãƒ©ãƒ¼</option>
                        <option value="romance">ãƒ­ãƒãƒ³ã‚¹</option>
                        <option value="sci-fi">SF</option>
                        <option value="fantasy">ãƒ•ã‚¡ãƒ³ã‚¿ã‚¸ãƒ¼</option>
                        <option value="mystery">ãƒŸã‚¹ãƒ†ãƒªãƒ¼</option>
                        <option value="animation">ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">ğŸ‘¥ ä¸»äººå…¬ã®ã‚¿ã‚¤ãƒ—</label>
                    <select id="protagonist" class="form-select">
                        <option value="">ä¸»äººå…¬ã‚’é¸æŠ</option>
                        <option value="detective">æ¢åµ</option>
                        <option value="scientist">ç§‘å­¦è€…</option>
                        <option value="artist">èŠ¸è¡“å®¶</option>
                        <option value="student">å­¦ç”Ÿ</option>
                        <option value="warrior">æˆ¦å£«</option>
                        <option value="robot">ãƒ­ãƒœãƒƒãƒˆ</option>
                        <option value="alien">å®‡å®™äºº</option>
                        <option value="chef">æ–™ç†äºº</option>
                        <option value="teacher">æ•™å¸«</option>
                        <option value="doctor">åŒ»å¸«</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">ğŸ  èˆå°è¨­å®š</label>
                    <select id="setting" class="form-select">
                        <option value="">èˆå°ã‚’é¸æŠ</option>
                        <option value="tokyo">ç¾ä»£ã®æ±äº¬</option>
                        <option value="space">å®‡å®™èˆ¹å†…</option>
                        <option value="medieval">ä¸­ä¸–ã®åŸ</option>
                        <option value="school">å­¦æ ¡</option>
                        <option value="desert">ç ‚æ¼ </option>
                        <option value="underwater">æµ·åº•éƒ½å¸‚</option>
                        <option value="future">æœªæ¥éƒ½å¸‚</option>
                        <option value="forest">é­”æ³•ã®æ£®</option>
                        <option value="lab">ç ”ç©¶æ‰€</option>
                        <option value="cafe">ã‚«ãƒ•ã‚§</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">â±ï¸ æ˜ ç”»ã®é•·ã•</label>
                    <select id="duration" class="form-select">
                        <option value="short">ã‚·ãƒ§ãƒ¼ãƒˆï¼ˆ3-5åˆ†ï¼‰</option>
                        <option value="medium">ãƒŸãƒ‡ã‚£ã‚¢ãƒ ï¼ˆ8-10åˆ†ï¼‰</option>
                        <option value="long">ãƒ­ãƒ³ã‚°ï¼ˆ15-20åˆ†ï¼‰</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">ğŸ’­ è¿½åŠ ã®ãƒ†ãƒ¼ãƒã‚„ã‚¢ã‚¤ãƒ‡ã‚¢ï¼ˆä»»æ„ï¼‰</label>
                    <textarea id="theme" class="form-textarea" placeholder="ä¾‹ï¼šæ™‚é–“æ—…è¡Œã€å‹æƒ…ã€è¬è§£ãã€æ‹æ„›ãªã©..."></textarea>
                </div>

                <div class="form-group">
                    <label class="form-label">ğŸ¨ æ˜ åƒã‚¹ã‚¿ã‚¤ãƒ«</label>
                    <div class="checkbox-group">
                        <label class="checkbox-item">
                            <input type="checkbox" name="style" value="cinematic">
                            <span>æ˜ ç”»çš„</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" name="style" value="documentary">
                            <span>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ã‚¿ãƒªãƒ¼é¢¨</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" name="style" value="noir">
                            <span>ãƒ•ã‚£ãƒ«ãƒ ãƒãƒ¯ãƒ¼ãƒ«</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" name="style" value="colorful">
                            <span>ã‚«ãƒ©ãƒ•ãƒ«</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" name="style" value="minimalist">
                            <span>ãƒŸãƒ‹ãƒãƒ«</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" name="style" value="retro">
                            <span>ãƒ¬ãƒˆãƒ­</span>
                        </label>
                    </div>
                </div>

                <button id="generateBtn" class="generate-btn">ğŸ¬ æ˜ ç”»ã‚’ä½œæˆã™ã‚‹</button>
            </div>

            <!-- ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ‘ãƒãƒ« -->
            <div class="preview-panel">
                <h2 class="section-title">ğŸ¿ æ˜ ç”»ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼</h2>
                
                <div class="movie-preview">
                    <div id="movieScreen" class="movie-screen">
                        <div class="screen-content">
                            <p>å·¦ã®ãƒ•ã‚©ãƒ¼ãƒ ã«å…¥åŠ›ã—ã¦<br>ã€Œæ˜ ç”»ã‚’ä½œæˆã™ã‚‹ã€ã‚’ã‚¯ãƒªãƒƒã‚¯ï¼</p>
                        </div>
                    </div>
                    
                    <div id="movieDetails" style="display: none;">
                        <div class="movie-title" id="movieTitle"></div>
                        <div class="movie-info">
                            <div class="info-item">
                                <div class="info-label">ã‚¸ãƒ£ãƒ³ãƒ«</div>
                                <div class="info-value" id="movieGenre"></div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">é•·ã•</div>
                                <div class="info-value" id="movieDuration"></div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">ä¸»äººå…¬</div>
                                <div class="info-value" id="movieProtagonist"></div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">èˆå°</div>
                                <div class="info-value" id="movieSetting"></div>
                            </div>
                        </div>
                        
                        <div class="controls">
                            <button class="control-btn" onclick="playMovie()">â–¶ï¸ å†ç”Ÿ</button>
                            <button class="control-btn" onclick="pauseMovie()">â¸ï¸ ä¸€æ™‚åœæ­¢</button>
                            <button class="control-btn" onclick="showScript()">ğŸ“ è„šæœ¬ã‚’è¦‹ã‚‹</button>
                            <button class="control-btn" onclick="saveMovie()">ğŸ’¾ ä¿å­˜</button>
                        </div>
                    </div>

                    <div id="scriptView" style="display: none;">
                        <div class="script-content" id="scriptContent"></div>
                        <div class="controls">
                            <button class="control-btn" onclick="hideScript()">ğŸ”™ æˆ»ã‚‹</button>
                            <button class="control-btn" onclick="exportScript()">ğŸ“„ è„šæœ¬ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentMovie = null;
        let isPlaying = false;

        // æ˜ ç”»ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
        const movieTemplates = {
            action: {
                titles: ["ç–¾é¢¨ã®ãƒ’ãƒ¼ãƒ­ãƒ¼", "æœ€å¾Œã®æˆ¦ã„", "å±é™ºãªä»»å‹™", "çˆ†ç ´ä½œæˆ¦", "æ•‘å‡ºåŠ‡"],
                plots: [
                    "æ•µã®ã‚¢ã‚¸ãƒˆã«æ½œå…¥ã—ã€äººè³ªã‚’æ•‘å‡ºã™ã‚‹",
                    "çˆ†å¼¾ã‚’è§£é™¤ã—ã¦è¡—ã‚’æ•‘ã†",
                    "è¿½è·¡åŠ‡ã®æœ«ã«çœŸçŠ¯äººã‚’æ•ã¾ãˆã‚‹"
                ]
            },
            comedy: {
                titles: ["ãŠã‹ã—ãªä¸€æ—¥", "ç¬‘ã„ã®é­”æ³•", "ãƒ‰ã‚¿ãƒã‚¿å¤§ä½œæˆ¦", "ã‚³ãƒ¡ãƒ‡ã‚£ã®ç‹æ§˜", "çˆ†ç¬‘åŠ‡å ´"],
                plots: [
                    "å‹˜é•ã„ã‹ã‚‰å§‹ã¾ã‚‹æ„‰å¿«ãªå¤§é¨’å‹•",
                    "å¤±æ•—ç¶šãã ãŒæœ€å¾Œã«æˆåŠŸã™ã‚‹ç‰©èª",
                    "ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼åŒå£«ã®æ›ã‘åˆã„ãŒé¢ç™½ã„æ—¥å¸¸"
                ]
            },
            drama: {
                titles: ["å¿ƒã®çµ†", "äººç”Ÿã®é¸æŠ", "çœŸå®Ÿã®ç‰©èª", "æ„Ÿå‹•ã®è»Œè·¡", "å¸Œæœ›ã®å…‰"],
                plots: [
                    "å›°é›£ã‚’ä¹—ã‚Šè¶Šãˆã¦æˆé•·ã™ã‚‹æ„Ÿå‹•çš„ãªç‰©èª",
                    "å®¶æ—ã®çµ†ã‚’æã„ãŸå¿ƒæ¸©ã¾ã‚‹ãƒ‰ãƒ©ãƒ",
                    "å¤¢ã‚’è¿½ã„ã‹ã‘ã‚‹é’æ˜¥ã®ç‰©èª"
                ]
            },
            horror: {
                titles: ["ææ€–ã®é¤¨", "é—‡ã®ä¸­ã§", "å‘ªã‚ã‚ŒãŸç‰©èª", "ææ€–ã®å¤œ", "æ‚ªå¤¢ã®å§‹ã¾ã‚Š"],
                plots: [
                    "å¤ã„å±‹æ•·ã§è¬ã®ç¾è±¡ã«é­é‡ã™ã‚‹",
                    "å‘ªã„ã®ã‚¢ã‚¤ãƒ†ãƒ ãŒå¼•ãèµ·ã“ã™ææ€–",
                    "é—‡ã«æ½œã‚€ä½•ã‹ã‹ã‚‰é€ƒã’ç¶šã‘ã‚‹"
                ]
            },
            romance: {
                titles: ["æ°¸é ã®æ„›", "é‹å‘½ã®å‡ºä¼šã„", "æ„›ã®ç‰©èª", "å¿ƒã®è·é›¢", "æ‹ã®å§‹ã¾ã‚Š"],
                plots: [
                    "å¶ç„¶ã®å‡ºä¼šã„ã‹ã‚‰å§‹ã¾ã‚‹æ‹æ„›ç‰©èª",
                    "é è·é›¢æ‹æ„›ã‚’ä¹—ã‚Šè¶Šãˆã‚‹äºŒäºº",
                    "éå»ã®æ‹äººã¨å†ä¼šã™ã‚‹ç‰©èª"
                ]
            },
            "sci-fi": {
                titles: ["æœªæ¥ã¸ã®æ—…", "å®‡å®™ã®è¬", "ã‚¿ã‚¤ãƒ ãƒ‘ãƒ©ãƒ‰ãƒƒã‚¯ã‚¹", "AIé©å‘½", "ç•°æ˜Ÿäººã¨ã®é­é‡"],
                plots: [
                    "æœªæ¥ã®æŠ€è¡“ãŒå¼•ãèµ·ã“ã™å•é¡Œã‚’è§£æ±ºã™ã‚‹",
                    "å®‡å®™ã§æ–°ãŸãªç”Ÿå‘½ä½“ã‚’ç™ºè¦‹ã™ã‚‹",
                    "æ™‚é–“æ—…è¡Œã§æ­´å²ã‚’å¤‰ãˆã‚ˆã†ã¨ã™ã‚‹"
                ]
            },
            fantasy: {
                titles: ["é­”æ³•ã®å†’é™º", "ä¼èª¬ã®å‰£", "é­”æ³•ä½¿ã„ã®å¼Ÿå­", "ãƒ‰ãƒ©ã‚´ãƒ³ã®è°·", "é­”æ³•ã®æ£®"],
                plots: [
                    "é­”æ³•ã®åŠ›ã§ä¸–ç•Œã‚’æ•‘ã†å†’é™º",
                    "ä¼èª¬ã®å®ç‰©ã‚’æ¢ã™æ—…",
                    "é­”æ³•ã®ä¿®è¡Œã‚’é€šã˜ã¦æˆé•·ã™ã‚‹ç‰©èª"
                ]
            },
            mystery: {
                titles: ["è¬ã®äº‹ä»¶", "æ¶ˆãˆãŸè¨¼æ‹ ", "å¯†å®¤ã®è¬", "æ¨ç†ã®æ™‚é–“", "çœŸçŠ¯äººã‚’æ¢ã›"],
                plots: [
                    "è¤‡é›‘ãªæ‰‹ãŒã‹ã‚Šã‚’å…ƒã«äº‹ä»¶ã‚’è§£æ±ºã™ã‚‹",
                    "å¯†å®¤ã§èµ·ããŸä¸å¯è§£ãªäº‹ä»¶ã®çœŸç›¸",
                    "å®¹ç–‘è€…ãŸã¡ã®ä¸­ã‹ã‚‰çœŸçŠ¯äººã‚’è¦‹ã¤ã‘ã‚‹"
                ]
            },
            animation: {
                titles: ["ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®å¤§å†’é™º", "å‹æƒ…ç‰©èª", "æˆé•·ã®è¨˜éŒ²", "å¤¢ã®ä¸–ç•Œ", "é­”æ³•ã®ã‚¢ãƒ‹ãƒ¡"],
                plots: [
                    "å€‹æ€§è±Šã‹ãªã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãŸã¡ã®å†’é™º",
                    "å‹é”ã¨åŠ›ã‚’åˆã‚ã›ã¦å›°é›£ã‚’ä¹—ã‚Šè¶Šãˆã‚‹",
                    "æƒ³åƒåŠ›è±Šã‹ãªä¸–ç•Œã§ã®ç‰©èª"
                ]
            }
        };

        // æ˜ ç”»ç”Ÿæˆãƒœã‚¿ãƒ³ã®ã‚¤ãƒ™ãƒ³ãƒˆ
        document.getElementById('generateBtn').addEventListener('click', generateMovie);

        function generateMovie() {
            const genre = document.getElementById('genre').value;
            const protagonist = document.getElementById('protagonist').value;
            const setting = document.getElementById('setting').value;
            const duration = document.getElementById('duration').value;
            const theme = document.getElementById('theme').value;
            const styles = Array.from(document.querySelectorAll('input[name="style"]:checked')).map(cb => cb.value);

            if (!genre || !protagonist || !setting) {
                alert('ã‚¸ãƒ£ãƒ³ãƒ«ã€ä¸»äººå…¬ã€èˆå°ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚');
                return;
            }

            // ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤º
            showLoading();

            // æ˜ ç”»ç”Ÿæˆã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
            setTimeout(() => {
                const movie = createMovie(genre, protagonist, setting, duration, theme, styles);
                displayMovie(movie);
                currentMovie = movie;
            }, 3000);
        }

        function showLoading() {
            const screen = document.getElementById('movieScreen');
            screen.innerHTML = `
                <div class="loading">
                    <div class="spinner"></div>
                    <div>
                        <p>AIãŒæ˜ ç”»ã‚’ä½œæˆä¸­...</p>
                        <p style="font-size: 0.9rem; opacity: 0.7;">è„šæœ¬ã‚’æ›¸ã„ã¦ã„ã¾ã™...</p>
                    </div>
                </div>
            `;
            screen.classList.add('playing');

            // ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®æ›´æ–°
            let messages = [
                "è„šæœ¬ã‚’æ›¸ã„ã¦ã„ã¾ã™...",
                "ã‚­ãƒ£ã‚¹ãƒˆã‚’é¸ã‚“ã§ã„ã¾ã™...",
                "æ’®å½±å ´æ‰€ã‚’æ±ºã‚ã¦ã„ã¾ã™...",
                "éŸ³æ¥½ã‚’ä½œæ›²ã—ã¦ã„ã¾ã™...",
                "ç·¨é›†ã—ã¦ã„ã¾ã™..."
            ];
            
            let messageIndex = 0;
            const messageInterval = setInterval(() => {
                messageIndex = (messageIndex + 1) % messages.length;
                const loadingText = screen.querySelector('.loading p:last-child');
                if (loadingText) {
                    loadingText.textContent = messages[messageIndex];
                }
            }, 500);

            setTimeout(() => {
                clearInterval(messageInterval);
            }, 3000);
        }

        function createMovie(genre, protagonist, setting, duration, theme, styles) {
            const template = movieTemplates[genre];
            const title = template.titles[Math.floor(Math.random() * template.titles.length)];
            const plot = template.plots[Math.floor(Math.random() * template.plots.length)];

            // è„šæœ¬ç”Ÿæˆ
            const script = generateScript(genre, protagonist, setting, plot, theme);

            const movie = {
                title: title,
                genre: genre,
                protagonist: protagonist,
                setting: setting,
                duration: duration,
                theme: theme,
                styles: styles,
                plot: plot,
                script: script,
                createdAt: new Date()
            };

            return movie;
        }

        function generateScript(genre, protagonist, setting, plot, theme) {
            const scenes = [];

            // ã‚ªãƒ¼ãƒ—ãƒ‹ãƒ³ã‚°
            scenes.push({
                type: "FADE IN",
                location: getLocationName(setting),
                time: "æœ",
                action: `${getProtagonistName(protagonist)}ãŒ${getLocationName(setting)}ã«ã„ã‚‹ã€‚${plot}ã®å§‹ã¾ã‚Šã€‚`,
                dialogues: [
                    {
                        character: getProtagonistName(protagonist),
                        line: getOpeningLine(genre, protagonist)
                    }
                ]
            });

            // ä¸­é–“éƒ¨
            scenes.push({
                type: "INT.",
                location: getLocationName(setting),
                time: "æ˜¼",
                action: "çŠ¶æ³ãŒè¤‡é›‘ã«ãªã‚Šã€ä¸»äººå…¬ã¯å›°é›£ã«ç›´é¢ã™ã‚‹ã€‚",
                dialogues: [
                    {
                        character: getProtagonistName(protagonist),
                        line: getMiddleLine(genre)
                    },
                    {
                        character: "è¬ã®äººç‰©",
                        line: "ãã†ç°¡å˜ã«ã¯ã„ã‹ãªã„ã‚ˆ..."
                    }
                ]
            });

            // ã‚¯ãƒ©ã‚¤ãƒãƒƒã‚¯ã‚¹
            scenes.push({
                type: "EXT.",
                location: getLocationName(setting),
                time: "å¤•æ–¹",
                action: "æœ€çµ‚çš„ãªå¯¾æ±ºã€‚ä¸»äººå…¬ã¯å…¨åŠ›ã§å•é¡Œã«ç«‹ã¡å‘ã‹ã†ã€‚",
                dialogues: [
                    {
                        character: getProtagonistName(protagonist),
                        line: getClimaxLine(genre)
                    }
                ]
            });

            // ã‚¨ãƒ³ãƒ‡ã‚£ãƒ³ã‚°
            scenes.push({
                type: "FADE OUT",
                location: getLocationName(setting),
                time: "å¤œ",
                action: "å•é¡ŒãŒè§£æ±ºã—ã€ä¸»äººå…¬ã¯æˆé•·ã—ãŸå§¿ã‚’è¦‹ã›ã‚‹ã€‚",
                dialogues: [
                    {
                        character: getProtagonistName(protagonist),
                        line: getEndingLine(genre)
                    }
                ]
            });

            return scenes;
        }

        function getProtagonistName(type) {
            const names = {
                detective: "æ¢åµç”°ä¸­",
                scientist: "åšå£«å±±ç”°",
                artist: "ç”»å®¶ä½è—¤",
                student: "å­¦ç”Ÿéˆ´æœ¨",
                warrior: "æˆ¦å£«é«˜æ©‹",
                robot: "ãƒ­ãƒœãƒƒãƒˆR-01",
                alien: "å®‡å®™äººã‚¼ãƒ¼ã‚¿",
                chef: "ã‚·ã‚§ãƒ•æ¸¡è¾º",
                teacher: "å…ˆç”Ÿä¸­æ‘",
                doctor: "åŒ»å¸«å°æ—"
            };
            return names[type] || "ä¸»äººå…¬";
        }

        function getLocationName(setting) {
            const locations = {
                tokyo: "æ±äº¬ã®è¡—è§’",
                space: "å®‡å®™èˆ¹ã®ãƒ–ãƒªãƒƒã‚¸",
                medieval: "å¤ã„åŸã®å¤§åºƒé–“",
                school: "å­¦æ ¡ã®æ•™å®¤",
                desert: "ç ‚æ¼ ã®ã‚ªã‚¢ã‚·ã‚¹",
                underwater: "æµ·åº•éƒ½å¸‚",
                future: "æœªæ¥éƒ½å¸‚ã®ãƒ“ãƒ«",
                forest: "é­”æ³•ã®æ£®",
                lab: "ç ”ç©¶æ‰€",
                cafe: "è¡—è§’ã®ã‚«ãƒ•ã‚§"
            };
            return locations[setting] || "æœªçŸ¥ã®å ´æ‰€";
        }

        function getOpeningLine(genre, protagonist) {
            const lines = {
                action: "ä»Šæ—¥ã‚‚å±é™ºãªä»»å‹™ãŒå¾…ã£ã¦ã„ã‚‹...",
                comedy: "ä»Šæ—¥ã¯ä½•ã‹é¢ç™½ã„ã“ã¨ãŒèµ·ã“ã‚Šãã†ã ï¼",
                drama: "äººç”Ÿã£ã¦æœ¬å½“ã«äºˆæƒ³ãŒã¤ã‹ãªã„ã‚‚ã®ã­ã€‚",
                horror: "ä½•ã‹ãŒãŠã‹ã—ã„...ã“ã®å ´æ‰€ã«ã¯ä½•ã‹ãŒæ½œã‚“ã§ã„ã‚‹ã€‚",
                romance: "é‹å‘½çš„ãªå‡ºä¼šã„ã£ã¦ã€æœ¬å½“ã«ã‚ã‚‹ã®ã‹ã—ã‚‰ï¼Ÿ",
                "sci-fi": "ã“ã®æŠ€è¡“ã¯äººé¡ã®æœªæ¥ã‚’å¤‰ãˆã‚‹ã‹ã‚‚ã—ã‚Œãªã„ã€‚",
                fantasy: "é­”æ³•ã®åŠ›ã‚’æ„Ÿã˜ã‚‹...å†’é™ºã®å§‹ã¾ã‚Šã ã€‚",
                mystery: "ã“ã®äº‹ä»¶ã«ã¯éš ã•ã‚ŒãŸçœŸå®ŸãŒã‚ã‚‹ã€‚",
                animation: "ä»Šæ—¥ã¯ç´ æ™´ã‚‰ã—ã„ä¸€æ—¥ã«ãªã‚Šãã†ï¼"
            };
            return lines[genre] || "æ–°ã—ã„ç‰©èªã®å§‹ã¾ã‚Šã ã€‚";
        }

        function getMiddleLine(genre) {
            const lines = {
                action: "ã“ã®çŠ¶æ³ã¯äºˆæƒ³ä»¥ä¸Šã«å±é™ºã ï¼",
                comedy: "ãˆãƒ¼ï¼ãã‚“ãªã“ã¨ã«ãªã‚‹ãªã‚“ã¦ï¼",
                drama: "ã“ã‚Œã¯ç°¡å˜ãªé¸æŠã˜ã‚ƒãªã„...",
                horror: "é€ƒã’ãªã‘ã‚Œã°...ã§ã‚‚ã‚‚ã†é…ã„ã‹ã‚‚ã—ã‚Œãªã„ã€‚",
                romance: "ã“ã‚“ãªæ°—æŒã¡ã«ãªã‚‹ãªã‚“ã¦æ€ã‚ãªã‹ã£ãŸã€‚",
                "sci-fi": "è¨ˆç®—ãŒé–“é•ã£ã¦ã„ãŸã€‚ã“ã‚Œã¯äºˆæƒ³å¤–ã®çµæœã ã€‚",
                fantasy: "é­”æ³•ã ã‘ã§ã¯è§£æ±ºã§ããªã„å•é¡Œã‚‚ã‚ã‚‹ã€‚",
                mystery: "æ‰‹ãŒã‹ã‚ŠãŒç¹‹ãŒã£ã¦ããŸ...çœŸå®ŸãŒè¦‹ãˆã¦ãã‚‹ã€‚",
                animation: "ã¿ã‚“ãªã§åŠ›ã‚’åˆã‚ã›ã‚Œã°å¤§ä¸ˆå¤«ï¼"
            };
            return lines[genre] || "çŠ¶æ³ãŒå¤‰ã‚ã£ãŸã€‚";
        }

        function getClimaxLine(genre) {
            const lines = {
                action: "ä»Šã“ãå…¨åŠ›ã§æˆ¦ã†æ™‚ã ï¼",
                comedy: "æœ€å¾Œã®æ‰‹æ®µã ï¼ã“ã‚Œã§æ±ºã¾ã‚Šï¼",
                drama: "ã‚‚ã†è¿·ã‚ãªã„ã€‚ã“ã®é“ã‚’é€²ã‚€ï¼",
                horror: "ææ€–ã«ç«‹ã¡å‘ã‹ã†å‹‡æ°—ã‚’å‡ºãã†ï¼",
                romance: "æ„›ã®ãŸã‚ã«æˆ¦ã†ï¼",
                "sci-fi": "æœªæ¥ã¯åƒ•ãŸã¡ã®æ‰‹ã«ã‹ã‹ã£ã¦ã„ã‚‹ï¼",
                fantasy: "é­”æ³•ã®çœŸã®åŠ›ã‚’è§£æ”¾ã™ã‚‹æ™‚ã ï¼",
                mystery: "çœŸçŠ¯äººã¯ã‚ãªãŸã ï¼",
                animation: "ã¿ã‚“ãªã®æ€ã„ã‚’ä¸€ã¤ã«ã—ã¦ï¼"
            };
            return lines[genre] || "æ±ºç€ã®æ™‚ã ï¼";
        }

        function getEndingLine(genre) {
            const lines = {
                action: "ä»»å‹™å®Œäº†ã€‚è¡—ã«å¹³å’ŒãŒæˆ»ã£ãŸã€‚",
                comedy: "çµæœã‚ªãƒ¼ãƒ©ã‚¤ï¼ç¬‘ã£ã¦çµ‚ã‚ã‚Šï¼",
                drama: "äººç”Ÿã¯ç¶šã„ã¦ã„ãã€‚æ–°ã—ã„æ˜æ—¥ã«å‘ã‹ã£ã¦ã€‚",
                horror: "ææ€–ã¯å»ã£ãŸ...ã—ã‹ã—æ²¹æ–­ã¯ç¦ç‰©ã ã€‚",
                romance: "æ„›ã¯å…¨ã¦ã‚’ä¹—ã‚Šè¶Šãˆã‚‹ã€‚",
                "sci-fi": "ç§‘å­¦ã®åŠ›ã§æœªæ¥ã‚’åˆ‡ã‚Šé–‹ã“ã†ã€‚",
                fantasy: "å†’é™ºã¯çµ‚ã‚ã£ãŸãŒã€é­”æ³•ã¯æ°¸é ã«ã€‚",
                mystery: "äº‹ä»¶ã¯è§£æ±ºã—ãŸã€‚æ­£ç¾©ã¯å‹ã¤ã€‚",
                animation: "å‹æƒ…ãŒæœ€é«˜ã®é­”æ³•ã ã£ãŸï¼"
            };
            return lines[genre] || "ãã—ã¦ç‰©èªã¯ç¶šã...";
        }

        function displayMovie(movie) {
            const screen = document.getElementById('movieScreen');
            const details = document.getElementById('movieDetails');
            
            screen.innerHTML = `
                <div class="screen-content">
                    <h3 style="color: #ff0080; font-size: 1.5rem; margin-bottom: 1rem;">${movie.title}</h3>
                    <p style="color: rgba(255,255,255,0.8);">ğŸ¬ åˆ¶ä½œå®Œäº†ï¼</p>
                    <p style="color: rgba(255,255,255,0.6); font-size: 0.9rem;">ä¸‹ã®ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã§æ“ä½œã§ãã¾ã™</p>
                </div>
            `;
            screen.classList.remove('playing');

            // æ˜ ç”»è©³ç´°ã‚’è¡¨ç¤º
            document.getElementById('movieTitle').textContent = movie.title;
            document.getElementById('movieGenre').textContent = getGenreName(movie.genre);
            document.getElementById('movieDuration').textContent = getDurationName(movie.duration);
            document.getElementById('movieProtagonist').textContent = getProtagonistName(movie.protagonist);
            document.getElementById('movieSetting').textContent = getLocationName(movie.setting);

            details.style.display = 'block';
        }

        function getGenreName(genre) {
            const names = {
                action: "ã‚¢ã‚¯ã‚·ãƒ§ãƒ³",
                comedy: "ã‚³ãƒ¡ãƒ‡ã‚£",
                drama: "ãƒ‰ãƒ©ãƒ",
                horror: "ãƒ›ãƒ©ãƒ¼",
                romance: "ãƒ­ãƒãƒ³ã‚¹",
                "sci-fi": "SF",
                fantasy: "ãƒ•ã‚¡ãƒ³ã‚¿ã‚¸ãƒ¼",
                mystery: "ãƒŸã‚¹ãƒ†ãƒªãƒ¼",
                animation: "ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³"
            };
            return names[genre] || genre;
        }

        function getDurationName(duration) {
            const names = {
                short: "3-5åˆ†",
                medium: "8-10åˆ†",
                long: "15-20åˆ†"
            };
            return names[duration] || duration;
        }

        function playMovie() {
            if (!currentMovie) return;
            
            const screen = document.getElementById('movieScreen');
            screen.classList.add('playing');
            screen.innerHTML = `
                <div class="screen-content">
                    <h3 style="color: #ff0080; font-size: 1.5rem; margin-bottom: 1rem;">${currentMovie.title}</h3>
                    <p style="color: rgba(255,255,255,0.8);">ğŸ¬ å†ç”Ÿä¸­...</p>
                    <div style="margin-top: 1rem; font-size: 0.9rem; color: rgba(255,255,255,0.6);">
                        <p>${getProtagonistName(currentMovie.protagonist)}ã®æ´»èºã‚’ãŠæ¥½ã—ã¿ãã ã•ã„</p>
                    </div>
                </div>
            `;
            isPlaying = true;
        }

        function pauseMovie() {
            const screen = document.getElementById('movieScreen');
            screen.classList.remove('playing');
            screen.innerHTML = `
                <div class="screen-content">
                    <h3 style="color: #ff0080; font-size: 1.5rem; margin-bottom: 1rem;">${currentMovie?.title || 'æ˜ ç”»'}</h3>
                    <p style="color: rgba(255,255,255,0.8);">â¸ï¸ ä¸€æ™‚åœæ­¢ä¸­</p>
                </div>
            `;
            isPlaying = false;
        }

        function showScript() {
            if (!currentMovie) return;

            const scriptView = document.getElementById('scriptView');
            const scriptContent = document.getElementById('scriptContent');
            const movieDetails = document.getElementById('movieDetails');

            let scriptHTML = '';
            currentMovie.script.forEach((scene, index) => {
                scriptHTML += `
                    <div class="script-scene">
                        <div class="scene-header">${scene.type} ${scene.location} - ${scene.time}</div>
                        <div class="scene-action">${scene.action}</div>
                `;
                
                scene.dialogues.forEach(dialogue => {
                    scriptHTML += `
                        <div class="dialogue">
                            <div class="character-name">${dialogue.character}</div>
                            <div class="character-line">${dialogue.line}</div>
                        </div>
                    `;
                });
                
                scriptHTML += '</div>';
            });

            scriptContent.innerHTML = scriptHTML;
            movieDetails.style.display = 'none';
            scriptView.style.display = 'block';
        }

        function hideScript() {
            document.getElementById('scriptView').style.display = 'none';
            document.getElementById('movieDetails').style.display = 'block';
        }

        function exportScript() {
            if (!currentMovie) return;

            let scriptText = `${currentMovie.title}\n`;
            scriptText += `ä½œè€…: AIæ˜ ç”»ç›£ç£\n`;
            scriptText += `ã‚¸ãƒ£ãƒ³ãƒ«: ${getGenreName(currentMovie.genre)}\n`;
            scriptText += `ä½œæˆæ—¥: ${currentMovie.createdAt.toLocaleDateString()}\n\n`;

            currentMovie.script.forEach(scene => {
                scriptText += `${scene.type} ${scene.location} - ${scene.time}\n\n`;
                scriptText += `${scene.action}\n\n`;
                
                scene.dialogues.forEach(dialogue => {
                    scriptText += `${dialogue.character}\n`;
                    scriptText += `    ${dialogue.line}\n\n`;
                });
                
                scriptText += '\n';
            });

            const blob = new Blob([scriptText], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `${currentMovie.title}_è„šæœ¬.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        function saveMovie() {
            if (!currentMovie) return;

            const movies = JSON.parse(localStorage.getItem('aiMovieDirector_movies') || '[]');
            movies.push(currentMovie);
            localStorage.setItem('aiMovieDirector_movies', JSON.stringify(movies));

            alert('æ˜ ç”»ãŒä¿å­˜ã•ã‚Œã¾ã—ãŸï¼');
        }

        // åˆæœŸåŒ–
        document.addEventListener('DOMContentLoaded', function() {
            // æ—¢å­˜ã®æ˜ ç”»ãŒã‚ã‚Œã°å¾©å…ƒï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
            const savedMovies = JSON.parse(localStorage.getItem('aiMovieDirector_movies') || '[]');
            if (savedMovies.length > 0) {
                console.log(`${savedMovies.length}æœ¬ã®æ˜ ç”»ãŒä¿å­˜ã•ã‚Œã¦ã„ã¾ã™`);
            }
        });
    </script>
</body>
</html>