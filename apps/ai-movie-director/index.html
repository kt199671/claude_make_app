<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- App Metadata -->
    <meta name="app-name" content="AIÊò†ÁîªÁõ£Áù£">
    <meta name="app-version" content="1.0.0">
    <meta name="app-created-by" content="Claude Sonnet 4">
    <meta name="app-created-date" content="2025-06-20">
    <meta name="app-model-id" content="claude-sonnet-4-20250514">
    <meta name="app-category" content="AI„ÉªÂàÜÊûê">
    <meta name="app-tags" content="Êò†ÁîªÂà∂‰Ωú,ËÑöÊú¨ÁîüÊàê,„ÇØ„É™„Ç®„Ç§„ÉÜ„Ç£„Éñ,„Ç®„É≥„Çø„Éº„ÉÜ„Ç§„É°„É≥„Éà,AI,„Çπ„Éà„Éº„É™„Éº„ÉÜ„É™„É≥„Ç∞">
    <meta name="app-target-users" content="15000">
    <meta name="app-last-modified" content="2025-06-20">
    <meta name="app-description" content="AI„ÅåÊò†Áîª„ÅÆËÑöÊú¨„ÇíËá™ÂãïÁîüÊàê„Åô„ÇãÈù©Êñ∞ÁöÑ„Å™Êò†ÁîªË£Ω‰ΩúÊîØÊè¥„ÉÑ„Éº„É´">
    <title>üé¨ AIÊò†ÁîªÁõ£Áù£ - Claude‰ΩúÂìÅÈõÜ</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 25%, #16213e 50%, #0f3460 75%, #1e3c72 100%);
            min-height: 100vh;
            color: white;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            padding: 2rem 0;
            margin-bottom: 2rem;
        }

        .header h1 {
            font-size: 3rem;
            background: linear-gradient(135deg, #ff0080, #7928ca, #0070f3, #00dfd8);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 0.5rem;
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from { text-shadow: 0 0 20px rgba(255, 0, 128, 0.5); }
            to { text-shadow: 0 0 30px rgba(255, 0, 128, 0.8), 0 0 40px rgba(121, 40, 202, 0.3); }
        }

        .subtitle {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 1rem;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .creation-panel, .preview-panel {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 2rem;
            border: 1px solid rgba(255, 255, 255, 0.15);
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
        }

        .section-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            color: #fff;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            font-weight: 500;
            margin-bottom: 0.5rem;
            color: rgba(255, 255, 255, 0.9);
        }

        .form-input, .form-select, .form-textarea {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 1rem;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .form-input::placeholder, .form-textarea::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        .form-input:focus, .form-select:focus, .form-textarea:focus {
            outline: none;
            border-color: #ff0080;
            box-shadow: 0 0 20px rgba(255, 0, 128, 0.3);
            background: rgba(255, 255, 255, 0.15);
        }

        .form-textarea {
            min-height: 100px;
            resize: vertical;
        }

        .checkbox-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 0.5rem;
            margin-top: 0.5rem;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 8px 12px;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.05);
            transition: background 0.3s ease;
        }

        .checkbox-item:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .checkbox-item input[type="checkbox"] {
            accent-color: #ff0080;
        }

        .generate-btn {
            width: 100%;
            padding: 16px 24px;
            background: linear-gradient(135deg, #ff0080 0%, #7928ca 50%, #0070f3 100%);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(255, 0, 128, 0.4);
            margin-top: 1rem;
        }

        .generate-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 30px rgba(255, 0, 128, 0.6);
        }

        .generate-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .movie-preview {
            min-height: 400px;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .movie-screen {
            width: 100%;
            height: 300px;
            background: linear-gradient(45deg, #1a1a2e, #16213e);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
            border: 2px solid rgba(255, 255, 255, 0.1);
        }

        .movie-screen.playing::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: scan 2s linear infinite;
        }

        @keyframes scan {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .screen-content {
            text-align: center;
            color: rgba(255, 255, 255, 0.6);
            font-size: 1.1rem;
        }

        .movie-title {
            font-size: 1.8rem;
            font-weight: 700;
            background: linear-gradient(135deg, #ff0080, #7928ca);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 1rem;
            text-align: center;
        }

        .movie-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .info-item {
            text-align: center;
            padding: 0.5rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
        }

        .info-label {
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.6);
            margin-bottom: 0.25rem;
        }

        .info-value {
            font-weight: 600;
            color: white;
        }

        .script-content {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 12px;
            padding: 1.5rem;
            max-height: 400px;
            overflow-y: auto;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .script-scene {
            margin-bottom: 2rem;
            border-left: 3px solid #ff0080;
            padding-left: 1rem;
        }

        .scene-header {
            font-weight: 600;
            color: #00dfd8;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
            text-transform: uppercase;
        }

        .scene-action {
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 1rem;
            font-style: italic;
            line-height: 1.6;
        }

        .dialogue {
            margin-bottom: 1rem;
        }

        .character-name {
            font-weight: 600;
            color: #7928ca;
            margin-bottom: 0.25rem;
            text-transform: uppercase;
            font-size: 0.9rem;
        }

        .character-line {
            color: white;
            padding-left: 1rem;
            line-height: 1.6;
        }

        .loading {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            padding: 2rem;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid rgba(255, 255, 255, 0.2);
            border-top: 4px solid #ff0080;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .controls {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 1rem;
        }

        .control-btn {
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .control-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: #ff0080;
        }

        .back-btn {
            position: fixed;
            top: 20px;
            left: 20px;
            padding: 12px 24px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            z-index: 1000;
        }

        .back-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: #ff0080;
            transform: translateY(-2px);
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .container {
                padding: 10px;
            }
            
            .creation-panel, .preview-panel {
                padding: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <a href="../../index.html" class="back-btn">‚Üê „É°„Ç§„É≥</a>

    <div class="container">
        <div class="header">
            <h1>üé¨ AIÊò†ÁîªÁõ£Áù£</h1>
            <p class="subtitle">AI„Åå„ÅÇ„Å™„Åü„ÅÆ„Ç¢„Ç§„Éá„Ç¢„ÅßÁü≠Á∑®Êò†Áîª„Çí‰Ωú„Çä„Åæ„Åô</p>
        </div>

        <div class="main-content">
            <!-- Êò†Áîª‰ΩúÊàê„Éë„Éç„É´ -->
            <div class="creation-panel">
                <h2 class="section-title">üé≠ Êò†Áîª„Çí‰ΩúÊàê</h2>
                
                <div class="form-group">
                    <label class="form-label">üé¨ Êò†Áîª„ÅÆ„Ç∏„É£„É≥„É´</label>
                    <select id="genre" class="form-select">
                        <option value="">„Ç∏„É£„É≥„É´„ÇíÈÅ∏Êäû</option>
                        <option value="action">„Ç¢„ÇØ„Ç∑„Éß„É≥</option>
                        <option value="comedy">„Ç≥„É°„Éá„Ç£</option>
                        <option value="drama">„Éâ„É©„Éû</option>
                        <option value="horror">„Éõ„É©„Éº</option>
                        <option value="romance">„É≠„Éû„É≥„Çπ</option>
                        <option value="sci-fi">SF</option>
                        <option value="fantasy">„Éï„Ç°„É≥„Çø„Ç∏„Éº</option>
                        <option value="mystery">„Éü„Çπ„ÉÜ„É™„Éº</option>
                        <option value="animation">„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">üë• ‰∏ª‰∫∫ÂÖ¨„ÅÆ„Çø„Ç§„Éó</label>
                    <select id="protagonist" class="form-select">
                        <option value="">‰∏ª‰∫∫ÂÖ¨„ÇíÈÅ∏Êäû</option>
                        <option value="detective">Êé¢ÂÅµ</option>
                        <option value="scientist">ÁßëÂ≠¶ËÄÖ</option>
                        <option value="artist">Ëä∏Ë°ìÂÆ∂</option>
                        <option value="student">Â≠¶Áîü</option>
                        <option value="warrior">Êà¶Â£´</option>
                        <option value="robot">„É≠„Éú„ÉÉ„Éà</option>
                        <option value="alien">ÂÆáÂÆô‰∫∫</option>
                        <option value="chef">ÊñôÁêÜ‰∫∫</option>
                        <option value="teacher">ÊïôÂ∏´</option>
                        <option value="doctor">ÂåªÂ∏´</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">üè† ËàûÂè∞Ë®≠ÂÆö</label>
                    <select id="setting" class="form-select">
                        <option value="">ËàûÂè∞„ÇíÈÅ∏Êäû</option>
                        <option value="tokyo">Áèæ‰ª£„ÅÆÊù±‰∫¨</option>
                        <option value="space">ÂÆáÂÆôËàπÂÜÖ</option>
                        <option value="medieval">‰∏≠‰∏ñ„ÅÆÂüé</option>
                        <option value="school">Â≠¶Ê†°</option>
                        <option value="desert">Á†ÇÊº†</option>
                        <option value="underwater">Êµ∑Â∫ïÈÉΩÂ∏Ç</option>
                        <option value="future">Êú™Êù•ÈÉΩÂ∏Ç</option>
                        <option value="forest">È≠îÊ≥ï„ÅÆÊ£Æ</option>
                        <option value="lab">Á†îÁ©∂ÊâÄ</option>
                        <option value="cafe">„Ç´„Éï„Çß</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">‚è±Ô∏è Êò†Áîª„ÅÆÈï∑„Åï</label>
                    <select id="duration" class="form-select">
                        <option value="short">„Ç∑„Éß„Éº„ÉàÔºà3-5ÂàÜÔºâ</option>
                        <option value="medium">„Éü„Éá„Ç£„Ç¢„É†Ôºà8-10ÂàÜÔºâ</option>
                        <option value="long">„É≠„É≥„Ç∞Ôºà15-20ÂàÜÔºâ</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">üí≠ ËøΩÂä†„ÅÆ„ÉÜ„Éº„Éû„ÇÑ„Ç¢„Ç§„Éá„Ç¢Ôºà‰ªªÊÑèÔºâ</label>
                    <textarea id="theme" class="form-textarea" placeholder="‰æãÔºöÊôÇÈñìÊóÖË°å„ÄÅÂèãÊÉÖ„ÄÅË¨éËß£„Åç„ÄÅÊÅãÊÑõ„Å™„Å©..."></textarea>
                </div>

                <div class="form-group">
                    <label class="form-label">üé® Êò†ÂÉè„Çπ„Çø„Ç§„É´</label>
                    <div class="checkbox-group">
                        <label class="checkbox-item">
                            <input type="checkbox" name="style" value="cinematic">
                            <span>Êò†ÁîªÁöÑ</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" name="style" value="documentary">
                            <span>„Éâ„Ç≠„É•„É°„É≥„Çø„É™„ÉºÈ¢®</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" name="style" value="noir">
                            <span>„Éï„Ç£„É´„É†„Éé„ÉØ„Éº„É´</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" name="style" value="colorful">
                            <span>„Ç´„É©„Éï„É´</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" name="style" value="minimalist">
                            <span>„Éü„Éã„Éû„É´</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" name="style" value="retro">
                            <span>„É¨„Éà„É≠</span>
                        </label>
                    </div>
                </div>

                <button id="generateBtn" class="generate-btn">üé¨ Êò†Áîª„Çí‰ΩúÊàê„Åô„Çã</button>
            </div>

            <!-- „Éó„É¨„Éì„É•„Éº„Éë„Éç„É´ -->
            <div class="preview-panel">
                <h2 class="section-title">üçø Êò†Áîª„Éó„É¨„Éì„É•„Éº</h2>
                
                <div class="movie-preview">
                    <div id="movieScreen" class="movie-screen">
                        <div class="screen-content">
                            <p>Â∑¶„ÅÆ„Éï„Ç©„Éº„É†„Å´ÂÖ•Âäõ„Åó„Å¶<br>„ÄåÊò†Áîª„Çí‰ΩúÊàê„Åô„Çã„Äç„Çí„ÇØ„É™„ÉÉ„ÇØÔºÅ</p>
                        </div>
                    </div>
                    
                    <div id="movieDetails" style="display: none;">
                        <div class="movie-title" id="movieTitle"></div>
                        <div class="movie-info">
                            <div class="info-item">
                                <div class="info-label">„Ç∏„É£„É≥„É´</div>
                                <div class="info-value" id="movieGenre"></div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">Èï∑„Åï</div>
                                <div class="info-value" id="movieDuration"></div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">‰∏ª‰∫∫ÂÖ¨</div>
                                <div class="info-value" id="movieProtagonist"></div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">ËàûÂè∞</div>
                                <div class="info-value" id="movieSetting"></div>
                            </div>
                        </div>
                        
                        <div class="controls">
                            <button class="control-btn" onclick="playMovie()">‚ñ∂Ô∏è ÂÜçÁîü</button>
                            <button class="control-btn" onclick="pauseMovie()">‚è∏Ô∏è ‰∏ÄÊôÇÂÅúÊ≠¢</button>
                            <button class="control-btn" onclick="showScript()">üìù ËÑöÊú¨„ÇíË¶ã„Çã</button>
                            <button class="control-btn" onclick="saveMovie()">üíæ ‰øùÂ≠ò</button>
                        </div>
                    </div>

                    <div id="scriptView" style="display: none;">
                        <div class="script-content" id="scriptContent"></div>
                        <div class="controls">
                            <button class="control-btn" onclick="hideScript()">üîô Êàª„Çã</button>
                            <button class="control-btn" onclick="exportScript()">üìÑ ËÑöÊú¨„Çí„Ç®„ÇØ„Çπ„Éù„Éº„Éà</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentMovie = null;
        let isPlaying = false;

        // Êò†Áîª„Éá„Éº„Çø„Éô„Éº„Çπ
        const movieTemplates = {
            action: {
                titles: ["ÁñæÈ¢®„ÅÆ„Éí„Éº„É≠„Éº", "ÊúÄÂæå„ÅÆÊà¶„ÅÑ", "Âç±Èô∫„Å™‰ªªÂãô", "ÁàÜÁ†¥‰ΩúÊà¶", "ÊïëÂá∫Âäá"],
                plots: [
                    "Êïµ„ÅÆ„Ç¢„Ç∏„Éà„Å´ÊΩúÂÖ•„Åó„ÄÅ‰∫∫Ë≥™„ÇíÊïëÂá∫„Åô„Çã",
                    "ÁàÜÂºæ„ÇíËß£Èô§„Åó„Å¶Ë°ó„ÇíÊïë„ÅÜ",
                    "ËøΩË∑°Âäá„ÅÆÊú´„Å´ÁúüÁäØ‰∫∫„ÇíÊçï„Åæ„Åà„Çã"
                ]
            },
            comedy: {
                titles: ["„Åä„Åã„Åó„Å™‰∏ÄÊó•", "Á¨ë„ÅÑ„ÅÆÈ≠îÊ≥ï", "„Éâ„Çø„Éê„ÇøÂ§ß‰ΩúÊà¶", "„Ç≥„É°„Éá„Ç£„ÅÆÁéãÊßò", "ÁàÜÁ¨ëÂäáÂ†¥"],
                plots: [
                    "ÂãòÈÅï„ÅÑ„Åã„ÇâÂßã„Åæ„ÇãÊÑâÂø´„Å™Â§ßÈ®íÂãï",
                    "Â§±ÊïóÁ∂ö„Åç„Å†„ÅåÊúÄÂæå„Å´ÊàêÂäü„Åô„ÇãÁâ©Ë™û",
                    "„Ç≠„É£„É©„ÇØ„Çø„ÉºÂêåÂ£´„ÅÆÊéõ„ÅëÂêà„ÅÑ„ÅåÈù¢ÁôΩ„ÅÑÊó•Â∏∏"
                ]
            },
            drama: {
                titles: ["ÂøÉ„ÅÆÁµÜ", "‰∫∫Áîü„ÅÆÈÅ∏Êäû", "ÁúüÂÆü„ÅÆÁâ©Ë™û", "ÊÑüÂãï„ÅÆËªåË∑°", "Â∏åÊúõ„ÅÆÂÖâ"],
                plots: [
                    "Âõ∞Èõ£„Çí‰πó„ÇäË∂ä„Åà„Å¶ÊàêÈï∑„Åô„ÇãÊÑüÂãïÁöÑ„Å™Áâ©Ë™û",
                    "ÂÆ∂Êóè„ÅÆÁµÜ„ÇíÊèè„ÅÑ„ÅüÂøÉÊ∏©„Åæ„Çã„Éâ„É©„Éû",
                    "Â§¢„ÇíËøΩ„ÅÑ„Åã„Åë„ÇãÈùíÊò•„ÅÆÁâ©Ë™û"
                ]
            },
            horror: {
                titles: ["ÊÅêÊÄñ„ÅÆÈ§®", "Èóá„ÅÆ‰∏≠„Åß", "Âë™„Çè„Çå„ÅüÁâ©Ë™û", "ÊÅêÊÄñ„ÅÆÂ§ú", "ÊÇ™Â§¢„ÅÆÂßã„Åæ„Çä"],
                plots: [
                    "Âè§„ÅÑÂ±ãÊï∑„ÅßË¨é„ÅÆÁèæË±°„Å´ÈÅ≠ÈÅá„Åô„Çã",
                    "Âë™„ÅÑ„ÅÆ„Ç¢„Ç§„ÉÜ„É†„ÅåÂºï„ÅçËµ∑„Åì„ÅôÊÅêÊÄñ",
                    "Èóá„Å´ÊΩú„ÇÄ‰Ωï„Åã„Åã„ÇâÈÄÉ„ÅíÁ∂ö„Åë„Çã"
                ]
            },
            romance: {
                titles: ["Ê∞∏ÈÅ†„ÅÆÊÑõ", "ÈÅãÂëΩ„ÅÆÂá∫‰ºö„ÅÑ", "ÊÑõ„ÅÆÁâ©Ë™û", "ÂøÉ„ÅÆË∑ùÈõ¢", "ÊÅã„ÅÆÂßã„Åæ„Çä"],
                plots: [
                    "ÂÅ∂ÁÑ∂„ÅÆÂá∫‰ºö„ÅÑ„Åã„ÇâÂßã„Åæ„ÇãÊÅãÊÑõÁâ©Ë™û",
                    "ÈÅ†Ë∑ùÈõ¢ÊÅãÊÑõ„Çí‰πó„ÇäË∂ä„Åà„Çã‰∫å‰∫∫",
                    "ÈÅéÂéª„ÅÆÊÅã‰∫∫„Å®ÂÜç‰ºö„Åô„ÇãÁâ©Ë™û"
                ]
            },
            "sci-fi": {
                titles: ["Êú™Êù•„Å∏„ÅÆÊóÖ", "ÂÆáÂÆô„ÅÆË¨é", "„Çø„Ç§„É†„Éë„É©„Éâ„ÉÉ„ÇØ„Çπ", "AIÈù©ÂëΩ", "Áï∞Êòü‰∫∫„Å®„ÅÆÈÅ≠ÈÅá"],
                plots: [
                    "Êú™Êù•„ÅÆÊäÄË°ì„ÅåÂºï„ÅçËµ∑„Åì„ÅôÂïèÈ°å„ÇíËß£Ê±∫„Åô„Çã",
                    "ÂÆáÂÆô„ÅßÊñ∞„Åü„Å™ÁîüÂëΩ‰Ωì„ÇíÁô∫Ë¶ã„Åô„Çã",
                    "ÊôÇÈñìÊóÖË°å„ÅßÊ≠¥Âè≤„ÇíÂ§â„Åà„Çà„ÅÜ„Å®„Åô„Çã"
                ]
            },
            fantasy: {
                titles: ["È≠îÊ≥ï„ÅÆÂÜíÈô∫", "‰ºùË™¨„ÅÆÂâ£", "È≠îÊ≥ï‰Ωø„ÅÑ„ÅÆÂºüÂ≠ê", "„Éâ„É©„Ç¥„É≥„ÅÆË∞∑", "È≠îÊ≥ï„ÅÆÊ£Æ"],
                plots: [
                    "È≠îÊ≥ï„ÅÆÂäõ„Åß‰∏ñÁïå„ÇíÊïë„ÅÜÂÜíÈô∫",
                    "‰ºùË™¨„ÅÆÂÆùÁâ©„ÇíÊé¢„ÅôÊóÖ",
                    "È≠îÊ≥ï„ÅÆ‰øÆË°å„ÇíÈÄö„Åò„Å¶ÊàêÈï∑„Åô„ÇãÁâ©Ë™û"
                ]
            },
            mystery: {
                titles: ["Ë¨é„ÅÆ‰∫ã‰ª∂", "Ê∂à„Åà„ÅüË®ºÊã†", "ÂØÜÂÆ§„ÅÆË¨é", "Êé®ÁêÜ„ÅÆÊôÇÈñì", "ÁúüÁäØ‰∫∫„ÇíÊé¢„Åõ"],
                plots: [
                    "Ë§áÈõë„Å™Êâã„Åå„Åã„Çä„ÇíÂÖÉ„Å´‰∫ã‰ª∂„ÇíËß£Ê±∫„Åô„Çã",
                    "ÂØÜÂÆ§„ÅßËµ∑„Åç„Åü‰∏çÂèØËß£„Å™‰∫ã‰ª∂„ÅÆÁúüÁõ∏",
                    "ÂÆπÁñëËÄÖ„Åü„Å°„ÅÆ‰∏≠„Åã„ÇâÁúüÁäØ‰∫∫„ÇíË¶ã„Å§„Åë„Çã"
                ]
            },
            animation: {
                titles: ["„Ç≠„É£„É©„ÇØ„Çø„Éº„ÅÆÂ§ßÂÜíÈô∫", "ÂèãÊÉÖÁâ©Ë™û", "ÊàêÈï∑„ÅÆË®òÈå≤", "Â§¢„ÅÆ‰∏ñÁïå", "È≠îÊ≥ï„ÅÆ„Ç¢„Éã„É°"],
                plots: [
                    "ÂÄãÊÄßË±ä„Åã„Å™„Ç≠„É£„É©„ÇØ„Çø„Éº„Åü„Å°„ÅÆÂÜíÈô∫",
                    "ÂèãÈÅî„Å®Âäõ„ÇíÂêà„Çè„Åõ„Å¶Âõ∞Èõ£„Çí‰πó„ÇäË∂ä„Åà„Çã",
                    "ÊÉ≥ÂÉèÂäõË±ä„Åã„Å™‰∏ñÁïå„Åß„ÅÆÁâ©Ë™û"
                ]
            }
        };

        // Êò†ÁîªÁîüÊàê„Éú„Çø„É≥„ÅÆ„Ç§„Éô„É≥„Éà
        document.getElementById('generateBtn').addEventListener('click', generateMovie);

        function generateMovie() {
            const genre = document.getElementById('genre').value;
            const protagonist = document.getElementById('protagonist').value;
            const setting = document.getElementById('setting').value;
            const duration = document.getElementById('duration').value;
            const theme = document.getElementById('theme').value;
            const styles = Array.from(document.querySelectorAll('input[name="style"]:checked')).map(cb => cb.value);

            if (!genre || !protagonist || !setting) {
                alert('„Ç∏„É£„É≥„É´„ÄÅ‰∏ª‰∫∫ÂÖ¨„ÄÅËàûÂè∞„ÇíÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ');
                return;
            }

            // „É≠„Éº„Éá„Ç£„É≥„Ç∞Ë°®Á§∫
            showLoading();

            // Êò†ÁîªÁîüÊàê„ÅÆ„Ç∑„Éü„É•„É¨„Éº„Ç∑„Éß„É≥
            setTimeout(() => {
                const movie = createMovie(genre, protagonist, setting, duration, theme, styles);
                displayMovie(movie);
                currentMovie = movie;
            }, 3000);
        }

        function showLoading() {
            const screen = document.getElementById('movieScreen');
            screen.innerHTML = `
                <div class="loading">
                    <div class="spinner"></div>
                    <div>
                        <p>AI„ÅåÊò†Áîª„Çí‰ΩúÊàê‰∏≠...</p>
                        <p style="font-size: 0.9rem; opacity: 0.7;">ËÑöÊú¨„ÇíÊõ∏„ÅÑ„Å¶„ÅÑ„Åæ„Åô...</p>
                    </div>
                </div>
            `;
            screen.classList.add('playing');

            // „É≠„Éº„Éá„Ç£„É≥„Ç∞„É°„ÉÉ„Çª„Éº„Ç∏„ÅÆÊõ¥Êñ∞
            let messages = [
                "ËÑöÊú¨„ÇíÊõ∏„ÅÑ„Å¶„ÅÑ„Åæ„Åô...",
                "„Ç≠„É£„Çπ„Éà„ÇíÈÅ∏„Çì„Åß„ÅÑ„Åæ„Åô...",
                "ÊíÆÂΩ±Â†¥ÊâÄ„ÇíÊ±∫„ÇÅ„Å¶„ÅÑ„Åæ„Åô...",
                "Èü≥Ê•Ω„Çí‰ΩúÊõ≤„Åó„Å¶„ÅÑ„Åæ„Åô...",
                "Á∑®ÈõÜ„Åó„Å¶„ÅÑ„Åæ„Åô..."
            ];
            
            let messageIndex = 0;
            const messageInterval = setInterval(() => {
                messageIndex = (messageIndex + 1) % messages.length;
                const loadingText = screen.querySelector('.loading p:last-child');
                if (loadingText) {
                    loadingText.textContent = messages[messageIndex];
                }
            }, 500);

            setTimeout(() => {
                clearInterval(messageInterval);
            }, 3000);
        }

        function createMovie(genre, protagonist, setting, duration, theme, styles) {
            const template = movieTemplates[genre];
            const title = template.titles[Math.floor(Math.random() * template.titles.length)];
            const plot = template.plots[Math.floor(Math.random() * template.plots.length)];

            // ËÑöÊú¨ÁîüÊàê
            const script = generateScript(genre, protagonist, setting, plot, theme);

            const movie = {
                title: title,
                genre: genre,
                protagonist: protagonist,
                setting: setting,
                duration: duration,
                theme: theme,
                styles: styles,
                plot: plot,
                script: script,
                createdAt: new Date()
            };

            return movie;
        }

        function generateScript(genre, protagonist, setting, plot, theme) {
            const scenes = [];

            // „Ç™„Éº„Éó„Éã„É≥„Ç∞
            scenes.push({
                type: "FADE IN",
                location: getLocationName(setting),
                time: "Êúù",
                action: `${getProtagonistName(protagonist)}„Åå${getLocationName(setting)}„Å´„ÅÑ„Çã„ÄÇ${plot}„ÅÆÂßã„Åæ„Çä„ÄÇ`,
                dialogues: [
                    {
                        character: getProtagonistName(protagonist),
                        line: getOpeningLine(genre, protagonist)
                    }
                ]
            });

            // ‰∏≠ÈñìÈÉ®
            scenes.push({
                type: "INT.",
                location: getLocationName(setting),
                time: "Êòº",
                action: "Áä∂Ê≥Å„ÅåË§áÈõë„Å´„Å™„Çä„ÄÅ‰∏ª‰∫∫ÂÖ¨„ÅØÂõ∞Èõ£„Å´Áõ¥Èù¢„Åô„Çã„ÄÇ",
                dialogues: [
                    {
                        character: getProtagonistName(protagonist),
                        line: getMiddleLine(genre)
                    },
                    {
                        character: "Ë¨é„ÅÆ‰∫∫Áâ©",
                        line: "„Åù„ÅÜÁ∞°Âçò„Å´„ÅØ„ÅÑ„Åã„Å™„ÅÑ„Çà..."
                    }
                ]
            });

            // „ÇØ„É©„Ç§„Éû„ÉÉ„ÇØ„Çπ
            scenes.push({
                type: "EXT.",
                location: getLocationName(setting),
                time: "Â§ïÊñπ",
                action: "ÊúÄÁµÇÁöÑ„Å™ÂØæÊ±∫„ÄÇ‰∏ª‰∫∫ÂÖ¨„ÅØÂÖ®Âäõ„ÅßÂïèÈ°å„Å´Á´ã„Å°Âêë„Åã„ÅÜ„ÄÇ",
                dialogues: [
                    {
                        character: getProtagonistName(protagonist),
                        line: getClimaxLine(genre)
                    }
                ]
            });

            // „Ç®„É≥„Éá„Ç£„É≥„Ç∞
            scenes.push({
                type: "FADE OUT",
                location: getLocationName(setting),
                time: "Â§ú",
                action: "ÂïèÈ°å„ÅåËß£Ê±∫„Åó„ÄÅ‰∏ª‰∫∫ÂÖ¨„ÅØÊàêÈï∑„Åó„ÅüÂßø„ÇíË¶ã„Åõ„Çã„ÄÇ",
                dialogues: [
                    {
                        character: getProtagonistName(protagonist),
                        line: getEndingLine(genre)
                    }
                ]
            });

            return scenes;
        }

        function getProtagonistName(type) {
            const names = {
                detective: "Êé¢ÂÅµÁî∞‰∏≠",
                scientist: "ÂçöÂ£´Â±±Áî∞",
                artist: "ÁîªÂÆ∂‰ΩêËó§",
                student: "Â≠¶ÁîüÈà¥Êú®",
                warrior: "Êà¶Â£´È´òÊ©ã",
                robot: "„É≠„Éú„ÉÉ„ÉàR-01",
                alien: "ÂÆáÂÆô‰∫∫„Çº„Éº„Çø",
                chef: "„Ç∑„Çß„ÉïÊ∏°Ëæ∫",
                teacher: "ÂÖàÁîü‰∏≠Êùë",
                doctor: "ÂåªÂ∏´Â∞èÊûó"
            };
            return names[type] || "‰∏ª‰∫∫ÂÖ¨";
        }

        function getLocationName(setting) {
            const locations = {
                tokyo: "Êù±‰∫¨„ÅÆË°óËßí",
                space: "ÂÆáÂÆôËàπ„ÅÆ„Éñ„É™„ÉÉ„Ç∏",
                medieval: "Âè§„ÅÑÂüé„ÅÆÂ§ßÂ∫ÉÈñì",
                school: "Â≠¶Ê†°„ÅÆÊïôÂÆ§",
                desert: "Á†ÇÊº†„ÅÆ„Ç™„Ç¢„Ç∑„Çπ",
                underwater: "Êµ∑Â∫ïÈÉΩÂ∏Ç",
                future: "Êú™Êù•ÈÉΩÂ∏Ç„ÅÆ„Éì„É´",
                forest: "È≠îÊ≥ï„ÅÆÊ£Æ",
                lab: "Á†îÁ©∂ÊâÄ",
                cafe: "Ë°óËßí„ÅÆ„Ç´„Éï„Çß"
            };
            return locations[setting] || "Êú™Áü•„ÅÆÂ†¥ÊâÄ";
        }

        function getOpeningLine(genre, protagonist) {
            const lines = {
                action: "‰ªäÊó•„ÇÇÂç±Èô∫„Å™‰ªªÂãô„ÅåÂæÖ„Å£„Å¶„ÅÑ„Çã...",
                comedy: "‰ªäÊó•„ÅØ‰Ωï„ÅãÈù¢ÁôΩ„ÅÑ„Åì„Å®„ÅåËµ∑„Åì„Çä„Åù„ÅÜ„Å†ÔºÅ",
                drama: "‰∫∫Áîü„Å£„Å¶Êú¨ÂΩì„Å´‰∫àÊÉ≥„Åå„Å§„Åã„Å™„ÅÑ„ÇÇ„ÅÆ„Å≠„ÄÇ",
                horror: "‰Ωï„Åã„Åå„Åä„Åã„Åó„ÅÑ...„Åì„ÅÆÂ†¥ÊâÄ„Å´„ÅØ‰Ωï„Åã„ÅåÊΩú„Çì„Åß„ÅÑ„Çã„ÄÇ",
                romance: "ÈÅãÂëΩÁöÑ„Å™Âá∫‰ºö„ÅÑ„Å£„Å¶„ÄÅÊú¨ÂΩì„Å´„ÅÇ„Çã„ÅÆ„Åã„Åó„ÇâÔºü",
                "sci-fi": "„Åì„ÅÆÊäÄË°ì„ÅØ‰∫∫È°û„ÅÆÊú™Êù•„ÇíÂ§â„Åà„Çã„Åã„ÇÇ„Åó„Çå„Å™„ÅÑ„ÄÇ",
                fantasy: "È≠îÊ≥ï„ÅÆÂäõ„ÇíÊÑü„Åò„Çã...ÂÜíÈô∫„ÅÆÂßã„Åæ„Çä„Å†„ÄÇ",
                mystery: "„Åì„ÅÆ‰∫ã‰ª∂„Å´„ÅØÈö†„Åï„Çå„ÅüÁúüÂÆü„Åå„ÅÇ„Çã„ÄÇ",
                animation: "‰ªäÊó•„ÅØÁ¥†Êô¥„Çâ„Åó„ÅÑ‰∏ÄÊó•„Å´„Å™„Çä„Åù„ÅÜÔºÅ"
            };
            return lines[genre] || "Êñ∞„Åó„ÅÑÁâ©Ë™û„ÅÆÂßã„Åæ„Çä„Å†„ÄÇ";
        }

        function getMiddleLine(genre) {
            const lines = {
                action: "„Åì„ÅÆÁä∂Ê≥Å„ÅØ‰∫àÊÉ≥‰ª•‰∏ä„Å´Âç±Èô∫„Å†ÔºÅ",
                comedy: "„Åà„ÉºÔºÅ„Åù„Çì„Å™„Åì„Å®„Å´„Å™„Çã„Å™„Çì„Å¶ÔºÅ",
                drama: "„Åì„Çå„ÅØÁ∞°Âçò„Å™ÈÅ∏Êäû„Åò„ÇÉ„Å™„ÅÑ...",
                horror: "ÈÄÉ„Åí„Å™„Åë„Çå„Å∞...„Åß„ÇÇ„ÇÇ„ÅÜÈÅÖ„ÅÑ„Åã„ÇÇ„Åó„Çå„Å™„ÅÑ„ÄÇ",
                romance: "„Åì„Çì„Å™Ê∞óÊåÅ„Å°„Å´„Å™„Çã„Å™„Çì„Å¶ÊÄù„Çè„Å™„Åã„Å£„Åü„ÄÇ",
                "sci-fi": "Ë®àÁÆó„ÅåÈñìÈÅï„Å£„Å¶„ÅÑ„Åü„ÄÇ„Åì„Çå„ÅØ‰∫àÊÉ≥Â§ñ„ÅÆÁµêÊûú„Å†„ÄÇ",
                fantasy: "È≠îÊ≥ï„Å†„Åë„Åß„ÅØËß£Ê±∫„Åß„Åç„Å™„ÅÑÂïèÈ°å„ÇÇ„ÅÇ„Çã„ÄÇ",
                mystery: "Êâã„Åå„Åã„Çä„ÅåÁπã„Åå„Å£„Å¶„Åç„Åü...ÁúüÂÆü„ÅåË¶ã„Åà„Å¶„Åè„Çã„ÄÇ",
                animation: "„Åø„Çì„Å™„ÅßÂäõ„ÇíÂêà„Çè„Åõ„Çå„Å∞Â§ß‰∏àÂ§´ÔºÅ"
            };
            return lines[genre] || "Áä∂Ê≥Å„ÅåÂ§â„Çè„Å£„Åü„ÄÇ";
        }

        function getClimaxLine(genre) {
            const lines = {
                action: "‰ªä„Åì„ÅùÂÖ®Âäõ„ÅßÊà¶„ÅÜÊôÇ„Å†ÔºÅ",
                comedy: "ÊúÄÂæå„ÅÆÊâãÊÆµ„Å†ÔºÅ„Åì„Çå„ÅßÊ±∫„Åæ„ÇäÔºÅ",
                drama: "„ÇÇ„ÅÜËø∑„Çè„Å™„ÅÑ„ÄÇ„Åì„ÅÆÈÅì„ÇíÈÄ≤„ÇÄÔºÅ",
                horror: "ÊÅêÊÄñ„Å´Á´ã„Å°Âêë„Åã„ÅÜÂãáÊ∞ó„ÇíÂá∫„Åù„ÅÜÔºÅ",
                romance: "ÊÑõ„ÅÆ„Åü„ÇÅ„Å´Êà¶„ÅÜÔºÅ",
                "sci-fi": "Êú™Êù•„ÅØÂÉï„Åü„Å°„ÅÆÊâã„Å´„Åã„Åã„Å£„Å¶„ÅÑ„ÇãÔºÅ",
                fantasy: "È≠îÊ≥ï„ÅÆÁúü„ÅÆÂäõ„ÇíËß£Êîæ„Åô„ÇãÊôÇ„Å†ÔºÅ",
                mystery: "ÁúüÁäØ‰∫∫„ÅØ„ÅÇ„Å™„Åü„Å†ÔºÅ",
                animation: "„Åø„Çì„Å™„ÅÆÊÄù„ÅÑ„Çí‰∏Ä„Å§„Å´„Åó„Å¶ÔºÅ"
            };
            return lines[genre] || "Ê±∫ÁùÄ„ÅÆÊôÇ„Å†ÔºÅ";
        }

        function getEndingLine(genre) {
            const lines = {
                action: "‰ªªÂãôÂÆå‰∫Ü„ÄÇË°ó„Å´Âπ≥Âíå„ÅåÊàª„Å£„Åü„ÄÇ",
                comedy: "ÁµêÊûú„Ç™„Éº„É©„Ç§ÔºÅÁ¨ë„Å£„Å¶ÁµÇ„Çè„ÇäÔºÅ",
                drama: "‰∫∫Áîü„ÅØÁ∂ö„ÅÑ„Å¶„ÅÑ„Åè„ÄÇÊñ∞„Åó„ÅÑÊòéÊó•„Å´Âêë„Åã„Å£„Å¶„ÄÇ",
                horror: "ÊÅêÊÄñ„ÅØÂéª„Å£„Åü...„Åó„Åã„ÅóÊ≤πÊñ≠„ÅØÁ¶ÅÁâ©„Å†„ÄÇ",
                romance: "ÊÑõ„ÅØÂÖ®„Å¶„Çí‰πó„ÇäË∂ä„Åà„Çã„ÄÇ",
                "sci-fi": "ÁßëÂ≠¶„ÅÆÂäõ„ÅßÊú™Êù•„ÇíÂàá„ÇäÈñã„Åì„ÅÜ„ÄÇ",
                fantasy: "ÂÜíÈô∫„ÅØÁµÇ„Çè„Å£„Åü„Åå„ÄÅÈ≠îÊ≥ï„ÅØÊ∞∏ÈÅ†„Å´„ÄÇ",
                mystery: "‰∫ã‰ª∂„ÅØËß£Ê±∫„Åó„Åü„ÄÇÊ≠£Áæ©„ÅØÂãù„Å§„ÄÇ",
                animation: "ÂèãÊÉÖ„ÅåÊúÄÈ´ò„ÅÆÈ≠îÊ≥ï„Å†„Å£„ÅüÔºÅ"
            };
            return lines[genre] || "„Åù„Åó„Å¶Áâ©Ë™û„ÅØÁ∂ö„Åè...";
        }

        function displayMovie(movie) {
            const screen = document.getElementById('movieScreen');
            const details = document.getElementById('movieDetails');
            
            screen.innerHTML = `
                <div class="screen-content">
                    <h3 style="color: #ff0080; font-size: 1.5rem; margin-bottom: 1rem;">${movie.title}</h3>
                    <p style="color: rgba(255,255,255,0.8);">üé¨ Âà∂‰ΩúÂÆå‰∫ÜÔºÅ</p>
                    <p style="color: rgba(255,255,255,0.6); font-size: 0.9rem;">‰∏ã„ÅÆ„Ç≥„É≥„Éà„É≠„Éº„É´„ÅßÊìç‰Ωú„Åß„Åç„Åæ„Åô</p>
                </div>
            `;
            screen.classList.remove('playing');

            // Êò†ÁîªË©≥Á¥∞„ÇíË°®Á§∫
            document.getElementById('movieTitle').textContent = movie.title;
            document.getElementById('movieGenre').textContent = getGenreName(movie.genre);
            document.getElementById('movieDuration').textContent = getDurationName(movie.duration);
            document.getElementById('movieProtagonist').textContent = getProtagonistName(movie.protagonist);
            document.getElementById('movieSetting').textContent = getLocationName(movie.setting);

            details.style.display = 'block';
        }

        function getGenreName(genre) {
            const names = {
                action: "„Ç¢„ÇØ„Ç∑„Éß„É≥",
                comedy: "„Ç≥„É°„Éá„Ç£",
                drama: "„Éâ„É©„Éû",
                horror: "„Éõ„É©„Éº",
                romance: "„É≠„Éû„É≥„Çπ",
                "sci-fi": "SF",
                fantasy: "„Éï„Ç°„É≥„Çø„Ç∏„Éº",
                mystery: "„Éü„Çπ„ÉÜ„É™„Éº",
                animation: "„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥"
            };
            return names[genre] || genre;
        }

        function getDurationName(duration) {
            const names = {
                short: "3-5ÂàÜ",
                medium: "8-10ÂàÜ",
                long: "15-20ÂàÜ"
            };
            return names[duration] || duration;
        }

        function playMovie() {
            if (!currentMovie) return;
            
            const screen = document.getElementById('movieScreen');
            screen.classList.add('playing');
            screen.innerHTML = `
                <div class="screen-content">
                    <h3 style="color: #ff0080; font-size: 1.5rem; margin-bottom: 1rem;">${currentMovie.title}</h3>
                    <p style="color: rgba(255,255,255,0.8);">üé¨ ÂÜçÁîü‰∏≠...</p>
                    <div style="margin-top: 1rem; font-size: 0.9rem; color: rgba(255,255,255,0.6);">
                        <p>${getProtagonistName(currentMovie.protagonist)}„ÅÆÊ¥ªË∫ç„Çí„ÅäÊ•Ω„Åó„Åø„Åè„Å†„Åï„ÅÑ</p>
                    </div>
                </div>
            `;
            isPlaying = true;
        }

        function pauseMovie() {
            const screen = document.getElementById('movieScreen');
            screen.classList.remove('playing');
            screen.innerHTML = `
                <div class="screen-content">
                    <h3 style="color: #ff0080; font-size: 1.5rem; margin-bottom: 1rem;">${currentMovie?.title || 'Êò†Áîª'}</h3>
                    <p style="color: rgba(255,255,255,0.8);">‚è∏Ô∏è ‰∏ÄÊôÇÂÅúÊ≠¢‰∏≠</p>
                </div>
            `;
            isPlaying = false;
        }

        function showScript() {
            if (!currentMovie) return;

            const scriptView = document.getElementById('scriptView');
            const scriptContent = document.getElementById('scriptContent');
            const movieDetails = document.getElementById('movieDetails');

            let scriptHTML = '';
            currentMovie.script.forEach((scene, index) => {
                scriptHTML += `
                    <div class="script-scene">
                        <div class="scene-header">${scene.type} ${scene.location} - ${scene.time}</div>
                        <div class="scene-action">${scene.action}</div>
                `;
                
                scene.dialogues.forEach(dialogue => {
                    scriptHTML += `
                        <div class="dialogue">
                            <div class="character-name">${dialogue.character}</div>
                            <div class="character-line">${dialogue.line}</div>
                        </div>
                    `;
                });
                
                scriptHTML += '</div>';
            });

            scriptContent.innerHTML = scriptHTML;
            movieDetails.style.display = 'none';
            scriptView.style.display = 'block';
        }

        function hideScript() {
            document.getElementById('scriptView').style.display = 'none';
            document.getElementById('movieDetails').style.display = 'block';
        }

        function exportScript() {
            if (!currentMovie) return;

            let scriptText = `${currentMovie.title}\n`;
            scriptText += `‰ΩúËÄÖ: AIÊò†ÁîªÁõ£Áù£\n`;
            scriptText += `„Ç∏„É£„É≥„É´: ${getGenreName(currentMovie.genre)}\n`;
            scriptText += `‰ΩúÊàêÊó•: ${currentMovie.createdAt.toLocaleDateString()}\n\n`;

            currentMovie.script.forEach(scene => {
                scriptText += `${scene.type} ${scene.location} - ${scene.time}\n\n`;
                scriptText += `${scene.action}\n\n`;
                
                scene.dialogues.forEach(dialogue => {
                    scriptText += `${dialogue.character}\n`;
                    scriptText += `    ${dialogue.line}\n\n`;
                });
                
                scriptText += '\n';
            });

            const blob = new Blob([scriptText], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `${currentMovie.title}_ËÑöÊú¨.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        function saveMovie() {
            if (!currentMovie) return;

            const movies = JSON.parse(localStorage.getItem('aiMovieDirector_movies') || '[]');
            movies.push(currentMovie);
            localStorage.setItem('aiMovieDirector_movies', JSON.stringify(movies));

            alert('Êò†Áîª„Åå‰øùÂ≠ò„Åï„Çå„Åæ„Åó„ÅüÔºÅ');
        }

        // ÂàùÊúüÂåñ
        document.addEventListener('DOMContentLoaded', function() {
            // Êó¢Â≠ò„ÅÆÊò†Áîª„Åå„ÅÇ„Çå„Å∞Âæ©ÂÖÉÔºà„Ç™„Éó„Ç∑„Éß„É≥Ôºâ
            const savedMovies = JSON.parse(localStorage.getItem('aiMovieDirector_movies') || '[]');
            if (savedMovies.length > 0) {
                console.log(`${savedMovies.length}Êú¨„ÅÆÊò†Áîª„Åå‰øùÂ≠ò„Åï„Çå„Å¶„ÅÑ„Åæ„Åô`);
            }
        });
    </script>
</body>
</html>