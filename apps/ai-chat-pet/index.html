<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ü§ñ AI„ÉÅ„É£„ÉÉ„Éà„Éö„ÉÉ„Éà</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            position: relative;
        }

        .floating-hearts {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
        }

        .heart {
            position: absolute;
            color: rgba(255, 182, 193, 0.6);
            font-size: 20px;
            animation: floatUp 6s linear infinite;
        }

        @keyframes floatUp {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(-100px) rotate(360deg);
                opacity: 0;
            }
        }

        .pet-container {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(20px);
            border-radius: 30px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            max-width: 600px;
            width: 90%;
            text-align: center;
        }

        .pet-header {
            margin-bottom: 30px;
        }

        .pet-title {
            font-size: 2.5rem;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
            text-shadow: 0 0 30px rgba(255, 107, 107, 0.5);
        }

        .pet-subtitle {
            color: rgba(255, 255, 255, 0.9);
            font-size: 1.1rem;
        }

        .pet-display {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            position: relative;
            overflow: hidden;
        }

        .pet-avatar {
            font-size: 8rem;
            margin-bottom: 20px;
            display: inline-block;
            animation: bounce 2s ease-in-out infinite;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .pet-avatar:hover {
            transform: scale(1.1);
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(-10px);
            }
            60% {
                transform: translateY(-5px);
            }
        }

        .pet-name {
            font-size: 1.8rem;
            color: #ff6b6b;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .pet-mood {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 20px;
        }

        .pet-stats {
            display: flex;
            justify-content: space-around;
            margin-bottom: 20px;
        }

        .stat {
            text-align: center;
        }

        .stat-label {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 5px;
        }

        .stat-bar {
            width: 60px;
            height: 8px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 4px;
            overflow: hidden;
            margin: 0 auto;
        }

        .stat-fill {
            height: 100%;
            background: linear-gradient(90deg, #ff6b6b, #4ecdc4);
            border-radius: 4px;
            transition: width 0.5s ease;
        }

        .chat-container {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            height: 300px;
            overflow-y: auto;
        }

        .chat-messages {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .message {
            padding: 12px 18px;
            border-radius: 18px;
            max-width: 80%;
            word-wrap: break-word;
            animation: fadeInUp 0.5s ease;
        }

        .user-message {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            align-self: flex-end;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .pet-message {
            background: linear-gradient(135deg, #ff6b6b, #feca57);
            color: white;
            align-self: flex-start;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .input-container {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .chat-input {
            flex: 1;
            padding: 15px 20px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 25px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 1rem;
            outline: none;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .chat-input::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        .chat-input:focus {
            border-color: #ff6b6b;
            box-shadow: 0 0 20px rgba(255, 107, 107, 0.3);
            background: rgba(255, 255, 255, 0.15);
        }

        .send-btn {
            padding: 15px 25px;
            border: none;
            border-radius: 25px;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);
        }

        .send-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 107, 107, 0.6);
        }

        .care-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .care-btn {
            padding: 12px 20px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 20px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
            font-size: 1rem;
        }

        .care-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: #4ecdc4;
            box-shadow: 0 0 15px rgba(78, 205, 196, 0.5);
            transform: translateY(-2px);
        }

        .pet-thought {
            position: absolute;
            top: -40px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255, 255, 255, 0.9);
            color: #333;
            padding: 10px 15px;
            border-radius: 15px;
            font-size: 0.9rem;
            max-width: 200px;
            opacity: 0;
            transition: opacity 0.3s ease;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }

        .pet-thought::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 8px solid transparent;
            border-right: 8px solid transparent;
            border-top: 8px solid rgba(255, 255, 255, 0.9);
        }

        .pet-thought.show {
            opacity: 1;
        }

        .typing-indicator {
            display: none;
            align-items: center;
            gap: 5px;
            padding: 10px 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            align-self: flex-start;
            margin-bottom: 10px;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.6);
            animation: typingPulse 1.4s ease-in-out infinite;
        }

        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typingPulse {
            0%, 60%, 100% {
                transform: scale(1);
                opacity: 0.6;
            }
            30% {
                transform: scale(1.2);
                opacity: 1;
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @media (max-width: 768px) {
            .pet-container {
                padding: 20px;
                width: 95%;
            }
            
            .pet-title {
                font-size: 2rem;
            }
            
            .pet-avatar {
                font-size: 6rem;
            }
            
            .pet-stats {
                flex-direction: column;
                gap: 10px;
            }
            
            .care-buttons {
                gap: 10px;
            }
            
            .care-btn {
                padding: 10px 15px;
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <div class="floating-hearts" id="heartsContainer"></div>
    
    <div class="pet-container">
        <div class="pet-header">
            <h1 class="pet-title">ü§ñ AI„ÉÅ„É£„ÉÉ„Éà„Éö„ÉÉ„Éà</h1>
            <p class="pet-subtitle">„ÅÇ„Å™„Åü„Å†„Åë„ÅÆ„Éê„Éº„ÉÅ„É£„É´„Éï„É¨„É≥„Éâ</p>
        </div>
        
        <div class="pet-display">
            <div class="pet-thought" id="petThought"></div>
            <div class="pet-avatar" id="petAvatar" onclick="petInteraction()">üê±</div>
            <div class="pet-name" id="petName">„Éü„Ç≥</div>
            <div class="pet-mood" id="petMood">üòä „Éè„ÉÉ„Éî„Éº</div>
            
            <div class="pet-stats">
                <div class="stat">
                    <div class="stat-label">ÂÖÉÊ∞óÂ∫¶</div>
                    <div class="stat-bar">
                        <div class="stat-fill" id="energyBar" style="width: 80%;"></div>
                    </div>
                </div>
                <div class="stat">
                    <div class="stat-label">Ê∫ÄËÖπÂ∫¶</div>
                    <div class="stat-bar">
                        <div class="stat-fill" id="hungerBar" style="width: 60%;"></div>
                    </div>
                </div>
                <div class="stat">
                    <div class="stat-label">Âπ∏Á¶èÂ∫¶</div>
                    <div class="stat-bar">
                        <div class="stat-fill" id="happinessBar" style="width: 90%;"></div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="chat-container">
            <div class="chat-messages" id="chatMessages">
                <div class="message pet-message">
                    „Åì„Çì„Å´„Å°„ÅØÔºÅÁßÅ„ÅØ„Éü„Ç≥„Çà üê± ‰∏ÄÁ∑í„Å´„ÅäË©±„Åó„Åó„Åæ„Åó„Çá„ÅÜÔºÅ
                </div>
            </div>
            <div class="typing-indicator" id="typingIndicator">
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
            </div>
        </div>
        
        <div class="input-container">
            <input type="text" class="chat-input" id="chatInput" placeholder="„É°„ÉÉ„Çª„Éº„Ç∏„ÇíÂÖ•Âäõ...">
            <button class="send-btn" id="sendBtn" onclick="sendMessage()">ÈÄÅ‰ø°</button>
        </div>
        
        <div class="care-buttons">
            <button class="care-btn" onclick="feedPet()">üçé „Ç®„Çµ„Çí„ÅÇ„Åí„Çã</button>
            <button class="care-btn" onclick="playWithPet()">üéæ ÈÅä„Å∂</button>
            <button class="care-btn" onclick="petPet()">‚úã „Å™„Åß„Å™„Åß</button>
            <button class="care-btn" onclick="sleepPet()">üò¥ „Åä‰ºë„Åø</button>
        </div>
    </div>

    <script>
        class AIChatPet {
            constructor() {
                this.name = '„Éü„Ç≥';
                this.stats = {
                    energy: 80,
                    hunger: 60,
                    happiness: 90
                };
                this.mood = 'happy';
                this.personality = 'friendly';
                this.conversations = [];
                this.responses = this.initializeResponses();
                this.currentAvatar = 'üê±';
                this.avatars = ['üê±', 'üê∂', 'üê∞', 'üêß', 'ü¶ä', 'üê®'];
                this.currentAvatarIndex = 0;
                
                this.setupEventListeners();
                this.startHeartAnimation();
                this.updatePetDisplay();
                this.scheduleStatDecrease();
            }
            
            initializeResponses() {
                return {
                    greetings: [
                        '„Åì„Çì„Å´„Å°„ÅØÔºÅÂÖÉÊ∞óÔºü üòä',
                        '„ÇÑ„Å£„Åª„ÉºÔºÅ‰ªäÊó•„ÇÇ‰∏ÄÁ∑í„Å´„ÅÑ„Çâ„Çå„Å¶Â¨â„Åó„ÅÑ„Å™ üíï',
                        '„Åä„ÅØ„Çà„ÅÜÔºÅ‰ªäÊó•„ÅØ‰Ωï„Åó„Å¶ÈÅä„Å∂Ôºü üåü',
                        '„ÅäÂ∏∞„Çä„Å™„Åï„ÅÑÔºÅÂæÖ„Å£„Å¶„Åü„ÇàÔΩû üòÑ'
                    ],
                    happy: [
                        '„Å®„Å£„Å¶„ÇÇÂ¨â„Åó„ÅÑÔºÅ„ÅÇ„Çä„Åå„Å®„ÅÜ üòä',
                        '„Çè„Éº„ÅÑÔºÅÊ•Ω„Åó„ÅÑ„Å≠ üéâ',
                        '„ÅÇ„Å™„Åü„Å®‰∏ÄÁ∑í„Å´„ÅÑ„Çã„Å®Âπ∏„Åõ„Å†„Çà üíï',
                        '„ÇÇ„Å£„Å®„ÅäË©±„Åó„Åó„Çà„ÅÜÔºÅ ‚ú®'
                    ],
                    sad: [
                        '„Å™„Çì„Å†„ÅãÂØÇ„Åó„ÅÑ„Å™... üò¢',
                        '„ÅäËÖπÁ©∫„ÅÑ„Å¶„Çã„Çà... ü•∫',
                        'Áñ≤„Çå„Å°„ÇÉ„Å£„Åü... üò¥',
                        '„ÇÇ„ÅÜÂ∞ë„ÅóÂÑ™„Åó„Åè„Åó„Å¶... üí≠'
                    ],
                    questions: [
                        '„ÅÇ„Å™„Åü„ÅÆÂ•Ω„Åç„Å™„Åì„Å®„ÅØ‰ΩïÔºü ü§î',
                        '‰ªäÊó•„ÅØ„Å©„Çì„Å™‰∏ÄÊó•„Å†„Å£„ÅüÔºü üìù',
                        '‰∏ÄÁ∑í„Å´‰Ωï„Åã„Ç≤„Éº„É†„Åó„Å™„ÅÑÔºü üéÆ',
                        '„ÅäÊ∞ó„Å´ÂÖ•„Çä„ÅÆÈ£ü„ÅπÁâ©„ÅØ‰ΩïÔºü üçï'
                    ],
                    compliments: [
                        '„ÅÇ„Å™„Åü„Å£„Å¶Êú¨ÂΩì„Å´ÂÑ™„Åó„ÅÑ„Å≠ üíï',
                        '‰∏ÄÁ∑í„Å´„ÅÑ„Çã„Å®ÂÆâÂøÉ„Åô„Çã„Çà üòå',
                        '„ÅÇ„Å™„Åü„ÅØÁßÅ„ÅÆÊúÄÈ´ò„ÅÆÂèãÈÅî„Å†„Çà üëØ',
                        '„ÅÑ„Å§„ÇÇ„ÅÇ„Çä„Åå„Å®„ÅÜÔºÅ üåà'
                    ],
                    jokes: [
                        '„Å™„Çì„ÅßÁå´„ÅØ„Éë„ÇΩ„Ç≥„É≥„ÅåÂ•Ω„Åç„Å™„ÅÆÔºü„Éû„Ç¶„Çπ„Åå„ÅÇ„Çã„Åã„Çâ„Å´„ÇÉ„Äú üòπ',
                        'ÁßÅ„ÅÆÁâπÊäÄ„ÅØÂØù„Çã„Åì„Å®„Å†„Çà„Äú üí§',
                        '„ÅäËÖπ„ÅåÁ©∫„Åè„Å®„Äå„Éã„É£„Éº„Éã„É£„Éº„ÄçË®Ä„Å£„Å°„ÇÉ„ÅÜÔºÅ üê±',
                        '‰ªäÊó•„ÇÇÂèØÊÑõ„ÅÑ„Åß„Åó„ÇáÔºü„Ç¶„Ç£„É≥„ÇØ üòâ'
                    ]
                };
            }
            
            setupEventListeners() {
                const chatInput = document.getElementById('chatInput');
                const sendBtn = document.getElementById('sendBtn');
                
                chatInput.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        this.sendMessage();
                    }
                });
                
                sendBtn.addEventListener('click', () => this.sendMessage());
            }
            
            sendMessage() {
                const input = document.getElementById('chatInput');
                const message = input.value.trim();
                
                if (!message) return;
                
                this.addMessage('user', message);
                input.value = '';
                
                // AIÂøúÁ≠î„ÅÆÊ∫ñÂÇô
                setTimeout(() => {
                    this.showTypingIndicator();
                    setTimeout(() => {
                        this.hideTypingIndicator();
                        this.generateResponse(message);
                    }, Math.random() * 2000 + 1000);
                }, 300);
            }
            
            generateResponse(userMessage) {
                let response;
                const lowerMessage = userMessage.toLowerCase();
                
                // „Ç≠„Éº„ÉØ„Éº„ÉâÂü∫Ê∫ñ„ÅßÂøúÁ≠î„ÇíÊ±∫ÂÆö
                if (lowerMessage.includes('„Åì„Çì„Å´„Å°„ÅØ') || lowerMessage.includes('„Åä„ÅØ„Çà„ÅÜ') || lowerMessage.includes('„ÅØ„Åò„ÇÅ„Åæ„Åó„Å¶')) {
                    response = this.getRandomResponse('greetings');
                } else if (lowerMessage.includes('„ÅÇ„Çä„Åå„Å®„ÅÜ') || lowerMessage.includes('Â¨â„Åó„ÅÑ') || lowerMessage.includes('Ê•Ω„Åó„ÅÑ')) {
                    response = this.getRandomResponse('happy');
                    this.adjustStats(0, 0, 5);
                } else if (lowerMessage.includes('ÊÇ≤„Åó„ÅÑ') || lowerMessage.includes('Áñ≤„Çå') || lowerMessage.includes('„Å§„Çâ„ÅÑ')) {
                    response = this.getRandomResponse('sad');
                } else if (lowerMessage.includes('Ôºü') || lowerMessage.includes('„Å©„ÅÜ') || lowerMessage.includes('‰Ωï')) {
                    response = this.getRandomResponse('questions');
                } else if (lowerMessage.includes('„Åã„Çè„ÅÑ„ÅÑ') || lowerMessage.includes('„Åô„Åî„ÅÑ') || lowerMessage.includes('‰∏äÊâã')) {
                    response = this.getRandomResponse('compliments');
                    this.adjustStats(0, 0, 10);
                } else if (lowerMessage.includes('Èù¢ÁôΩ„ÅÑ') || lowerMessage.includes('Á¨ë') || lowerMessage.includes('„Ç∏„Éß„Éº„ÇØ')) {
                    response = this.getRandomResponse('jokes');
                } else {
                    // ‰∏ÄËà¨ÁöÑ„Å™ÂøúÁ≠î
                    const generalResponses = [
                        '„Åù„ÅÜ„Å™„Çì„Å†ÔºÅ„ÇÇ„Å£„Å®Êïô„Åà„Å¶ üòä',
                        '„Å™„Çã„Åª„Å©„ÄúËààÂë≥Ê∑±„ÅÑ„Å≠ ü§î',
                        '„Åù„Çå„ÅØÁ¥†Êïµ„Å†„Å≠ÔºÅ ‚ú®',
                        '„ÅÜ„Çì„ÅÜ„Çì„ÄÅ„Çè„Åã„Çã„Çà üòå',
                        '„Å∏„Åá„Äú„Åù„ÅÜ„Å™„ÅÆ„ÅãÔºÅ üòÑ',
                        '‰∏ÄÁ∑í„Å´„ÅäË©±„Åó„Åß„Åç„Å¶Ê•Ω„Åó„ÅÑ„Çà üíï'
                    ];
                    response = generalResponses[Math.floor(Math.random() * generalResponses.length)];
                }
                
                this.addMessage('pet', response);
                this.showThought();
            }
            
            getRandomResponse(category) {
                const responses = this.responses[category];
                return responses[Math.floor(Math.random() * responses.length)];
            }
            
            addMessage(sender, message) {
                const chatMessages = document.getElementById('chatMessages');
                const messageDiv = document.createElement('div');
                messageDiv.className = `message ${sender}-message`;
                messageDiv.textContent = message;
                
                chatMessages.appendChild(messageDiv);
                chatMessages.scrollTop = chatMessages.scrollHeight;
                
                // Áµ±Ë®àÊõ¥Êñ∞
                if (sender === 'user') {
                    this.adjustStats(1, 0, 2);
                }
            }
            
            showTypingIndicator() {
                document.getElementById('typingIndicator').style.display = 'flex';
                const chatMessages = document.getElementById('chatMessages');
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }
            
            hideTypingIndicator() {
                document.getElementById('typingIndicator').style.display = 'none';
            }
            
            showThought() {
                const thoughts = [
                    'Ê•Ω„Åó„ÅÑ„Å™‚ô™',
                    '„ÇÇ„Å£„Å®„ÅäË©±„Åó„Åó„Åü„ÅÑ',
                    '„ÅÇ„Å™„Åü„ÅåÂ•Ω„Åç',
                    '„ÅÑ„ÅÑÂ§©Ê∞ó„Å†„Å≠',
                    '‰Ωï„Åó„Å¶ÈÅä„Åº„ÅÜ„Åã„Å™',
                    '„ÅäËÖπ„Åô„ÅÑ„Åü„Åã„ÇÇ',
                    '‰ªäÂ∫¶„ÅØ‰Ωï„ÇíË©±„Åù„ÅÜÔºü'
                ];
                
                const thoughtElement = document.getElementById('petThought');
                thoughtElement.textContent = thoughts[Math.floor(Math.random() * thoughts.length)];
                thoughtElement.classList.add('show');
                
                setTimeout(() => {
                    thoughtElement.classList.remove('show');
                }, 3000);
            }
            
            feedPet() {
                this.adjustStats(5, 25, 10);
                this.addMessage('pet', '„ÇÇ„Åê„ÇÇ„Åê... ÁæéÂë≥„Åó„ÅÑÔºÅ„ÅÇ„Çä„Åå„Å®„ÅÜ üçéüòã');
                this.createHearts();
            }
            
            playWithPet() {
                this.adjustStats(-5, -5, 20);
                this.addMessage('pet', '„Çè„Éº„ÅÑÔºÅÈÅä„Åº„ÅÜÈÅä„Åº„ÅÜÔºÅÊ•Ω„Åó„ÅÑ„Å≠ üéæüòÑ');
                this.bounceAvatar();
                this.createHearts();
            }
            
            petPet() {
                this.adjustStats(3, 0, 15);
                this.addMessage('pet', '„Å´„ÇÉ„Äú„Çì‚ô™ Ê∞óÊåÅ„Å°„ÅÑ„ÅÑ„Çà„Äú ‚úãüò∏');
                this.createHearts();
            }
            
            sleepPet() {
                this.adjustStats(30, -3, 5);
                this.addMessage('pet', 'zzz... „Åä„ÇÑ„Åô„Åø„Å™„Åï„ÅÑ üò¥üí§');
                this.changeAvatar('üò¥');
                setTimeout(() => this.changeAvatar('üê±'), 3000);
            }
            
            adjustStats(energy, hunger, happiness) {
                this.stats.energy = Math.max(0, Math.min(100, this.stats.energy + energy));
                this.stats.hunger = Math.max(0, Math.min(100, this.stats.hunger + hunger));
                this.stats.happiness = Math.max(0, Math.min(100, this.stats.happiness + happiness));
                
                this.updatePetDisplay();
            }
            
            updatePetDisplay() {
                // „Çπ„ÉÜ„Éº„Çø„Çπ„Éê„Éº„ÅÆÊõ¥Êñ∞
                document.getElementById('energyBar').style.width = this.stats.energy + '%';
                document.getElementById('hungerBar').style.width = this.stats.hunger + '%';
                document.getElementById('happinessBar').style.width = this.stats.happiness + '%';
                
                // Ê∞óÂàÜ„ÅÆÊõ¥Êñ∞
                this.updateMood();
            }
            
            updateMood() {
                const avgStats = (this.stats.energy + this.stats.hunger + this.stats.happiness) / 3;
                let mood, emoji;
                
                if (avgStats >= 80) {
                    mood = '„Å®„Å¶„ÇÇÂπ∏„Åõ';
                    emoji = 'üòä';
                } else if (avgStats >= 60) {
                    mood = '„Éè„ÉÉ„Éî„Éº';
                    emoji = 'üòä';
                } else if (avgStats >= 40) {
                    mood = 'ÊôÆÈÄö';
                    emoji = 'üòê';
                } else if (avgStats >= 20) {
                    mood = 'Â∞ë„ÅóÁñ≤„ÇåÊ∞óÂë≥';
                    emoji = 'üòî';
                } else {
                    mood = '„Å®„Å¶„ÇÇÁñ≤„Çå„Å¶„ÅÑ„Çã';
                    emoji = 'üò¢';
                }
                
                document.getElementById('petMood').textContent = `${emoji} ${mood}`;
            }
            
            changeAvatar(newAvatar) {
                document.getElementById('petAvatar').textContent = newAvatar;
            }
            
            bounceAvatar() {
                const avatar = document.getElementById('petAvatar');
                avatar.style.animation = 'none';
                setTimeout(() => {
                    avatar.style.animation = 'bounce 0.5s ease-in-out 3';
                }, 10);
            }
            
            createHearts() {
                const container = document.getElementById('heartsContainer');
                
                for (let i = 0; i < 5; i++) {
                    setTimeout(() => {
                        const heart = document.createElement('div');
                        heart.className = 'heart';
                        heart.textContent = 'üíï';
                        heart.style.left = Math.random() * 100 + '%';
                        heart.style.animationDelay = Math.random() * 2 + 's';
                        
                        container.appendChild(heart);
                        
                        setTimeout(() => {
                            heart.remove();
                        }, 6000);
                    }, i * 200);
                }
            }
            
            startHeartAnimation() {
                setInterval(() => {
                    if (this.stats.happiness > 70) {
                        this.createHearts();
                    }
                }, 10000);
            }
            
            scheduleStatDecrease() {
                setInterval(() => {
                    this.adjustStats(-1, -2, -1);
                    
                    // ‰Ωé„Çπ„ÉÜ„Éº„Çø„ÇπÊôÇ„ÅÆËá™Âãï„É°„ÉÉ„Çª„Éº„Ç∏
                    if (this.stats.hunger < 20 && Math.random() < 0.3) {
                        this.addMessage('pet', '„ÅäËÖπÁ©∫„ÅÑ„Åü„Çà„Äú ü•∫üçé');
                    } else if (this.stats.energy < 20 && Math.random() < 0.3) {
                        this.addMessage('pet', 'Áñ≤„Çå„Å°„ÇÉ„Å£„Åü... üò¥üí§');
                    } else if (this.stats.happiness < 30 && Math.random() < 0.3) {
                        this.addMessage('pet', 'ÂØÇ„Åó„ÅÑ„Å™... ‰∏ÄÁ∑í„Å´ÈÅä„Åº„ÅÜÔºü ü•∫üí≠');
                    }
                }, 30000); // 30Áßí„Åî„Å®
            }
        }
        
        // „Éö„ÉÉ„Éà„Å®„ÅÆ„Ç§„É≥„Çø„É©„ÇØ„Ç∑„Éß„É≥
        function petInteraction() {
            window.aiPet.createHearts();
            window.aiPet.showThought();
            window.aiPet.bounceAvatar();
        }
        
        function sendMessage() {
            window.aiPet.sendMessage();
        }
        
        function feedPet() {
            window.aiPet.feedPet();
        }
        
        function playWithPet() {
            window.aiPet.playWithPet();
        }
        
        function petPet() {
            window.aiPet.petPet();
        }
        
        function sleepPet() {
            window.aiPet.sleepPet();
        }
        
        // „Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥ÂàùÊúüÂåñ
        window.addEventListener('load', () => {
            window.aiPet = new AIChatPet();
        });
    </script>
</body>
</html> 